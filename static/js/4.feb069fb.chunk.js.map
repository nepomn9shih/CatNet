{"version":3,"sources":["utils/validators.js","components/FormsControls/FormsControls.js","images/randomAvatar1.jpg","images/randomAvatar2.webp","images/randomAvatar3.jpg","images/randomAvatar4.jpg","images/randomAvatar5.jpg","images/randomAvatar6.jpg","images/randomAvatar7.jpg","images/randomAvatar8.jpg","images/randomAvatar9.jpg","images/randomAvatar0.jpg","components/RandomAvatar/RandomAvatar.js","hoc/withAuthRedirect.js","components/Dialogs/DialogItem/DialogItem.js","components/Dialogs/Message/Message.js","components/Dialogs/SendMessageForm.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js"],"names":["requiredField","value","maxLengthCreator","maxLength","length","minLengthCreator","minLength","FormControl","input","meta","props","child","hasError","touched","error","className","children","Textarea","restProps","Input","CheckBox","type","getRandomAvatar","counter","randomAvatar1","randomAvatar2","randomAvatar3","randomAvatar4","randomAvatar5","randomAvatar6","randomAvatar7","randomAvatar8","randomAvatar9","randomAvatar0","RandomAvatar","userId","temp","String","random","parseInt","Math","ceil","src","alt","mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","DialogItem","name","id","setActiveDialog","activeDialog","onClick","Message","text","maxLength100","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","validate","Dialogs","addNewMessage","values","sendMessage","message","messagesPage","dialogs","map","dialog","path","render","match","params","dialogId","currentUserMessages","filter","messages","compose","dispatch","newMessageBody","sendMessageCreator","activeDialogNumber","setActiveDialogAC","withRouter"],"mappings":"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","file":"static/js/4.feb069fb.chunk.js","sourcesContent":["\r\nexport const requiredField = (value) => {\r\n    if (value) return undefined\r\n    return \"error message\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => {\r\n   return ((value) => {\r\n        if (value && (value.length > maxLength)) return `Max length is ${maxLength} symbols`\r\n        return undefined\r\n    })\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => {\r\n    return ((value) => {\r\n         if (value && (value.length < minLength)) return `Max length is ${minLength} symbols`\r\n         return undefined\r\n     })\r\n }","import React from \"react\";\r\nimport './FormsControls.css'\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    \r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={\"formControl\" + (hasError ? \" error\" : \"\")}>\r\n            <div>\r\n               {props.children}\r\n            </div>\r\n            {hasError && <span>\"{meta.error}\"</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>   \r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>   \r\n}\r\n\r\nexport const CheckBox = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input type=\"checkbox\" {...input} {...restProps}/></FormControl>   \r\n}\r\n","export default __webpack_public_path__ + \"static/media/randomAvatar1.debd756e.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar2.42e73c64.webp\";","export default __webpack_public_path__ + \"static/media/randomAvatar3.425f2b50.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar4.d9ac67cd.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar5.c0dacda5.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar6.9c5275ab.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar7.fb26aaed.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar8.7ec704b8.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar9.775f6832.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar0.1a9a8fe7.jpg\";","import React from \"react\";\r\nimport randomAvatar1 from \"../../images/randomAvatar1.jpg\"\r\nimport randomAvatar2 from \"../../images/randomAvatar2.webp\"\r\nimport randomAvatar3 from \"../../images/randomAvatar3.jpg\"\r\nimport randomAvatar4 from \"../../images/randomAvatar4.jpg\"\r\nimport randomAvatar5 from \"../../images/randomAvatar5.jpg\"\r\nimport randomAvatar6 from \"../../images/randomAvatar6.jpg\"\r\nimport randomAvatar7 from \"../../images/randomAvatar7.jpg\"\r\nimport randomAvatar8 from \"../../images/randomAvatar8.jpg\"\r\nimport randomAvatar9 from \"../../images/randomAvatar9.jpg\"\r\nimport randomAvatar0 from \"../../images/randomAvatar0.jpg\"\r\n\r\nconst RandomAvatar = ({userId}) => {\r\n  let temp = String(userId)\r\n  let current = parseInt(temp[temp.length-1])\r\n  \r\n  let random = current || Math.ceil(Math.random()*10)\r\n    return (\r\n        <img className=\"w-100 rounded\" src={getRandomAvatar(random)} alt=\"randomAvatar\" />\r\n    )\r\n}\r\n\r\nexport const getRandomAvatar = (counter) => {\r\n    switch (counter) {\r\n      case 1:\r\n        return randomAvatar1;\r\n      case 2:\r\n        return randomAvatar2;\r\n      case 3:\r\n        return randomAvatar3;\r\n      case 4:\r\n        return randomAvatar4;\r\n      case 5:\r\n        return randomAvatar5;\r\n      case 6:\r\n        return randomAvatar6;\r\n      case 7:\r\n        return randomAvatar7;\r\n      case 8:\r\n        return randomAvatar8;\r\n      case 9:\r\n        return randomAvatar9;\r\n      default:\r\n        return randomAvatar0;\r\n    }\r\n  };\r\n\r\n  export default RandomAvatar","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst mapStateToPropsRedirect = (state) => {\r\n    return {\r\n      isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let connectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n    return connectedAuthRedirectComponent\r\n}","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport RandomAvatar from \"../../RandomAvatar/RandomAvatar\";\r\nimport \"./DialogItem.css\";\r\n\r\nconst DialogItem = ({ name, id, setActiveDialog, activeDialog}) => {\r\n  \r\n  return (\r\n    <div className=\"dialog mb-2\">\r\n      <NavLink onClick={() => {setActiveDialog(id)}} to={\"/dialogs/\" + id}>\r\n        <div className={(+activeDialog === +id) ? \"card bg-light\" :\"card bg-secondary\"}>\r\n          <div className=\"d-flex justify-content-around flex-wrap\">\r\n            <div className=\"p-1\">\r\n              <RandomAvatar userId={id}/>\r\n            </div>\r\n            <div className=\"p-2\">\r\n            {name}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport \"./Message.css\";\r\n\r\nconst Message = ({ text }) => {\r\n  return <div className=\"m-1 overflowHack\">{text}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator, requiredField } from \"../../utils/validators\";\r\nimport { Textarea } from \"../FormsControls/FormsControls\";\r\n\r\nconst maxLength100 = maxLengthCreator(100)\r\n\r\nconst SendMessageForm = (props) => {\r\n    \r\n    return (\r\n        <div className=\"list-group-item bg-light\">\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div className=\"raw\">\r\n                    <div className=\"col-12 col-md-9\">\r\n                        <Field\r\n                            name={\"message\"}\r\n                            component={Textarea}\r\n                            className=\"form-control\"\r\n                            placeholder=\"Напиши сообщение\"\r\n                            validate={[requiredField, maxLength100]}\r\n                        />\r\n                        <div className=\"mt-1\">\r\n                            <button className=\"btn btn-sm btn-warning btn-block\">\r\n                            <b>ADD MESSAGE</b>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default reduxForm({form: 'message'})(SendMessageForm)","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport \"./Dialogs.css\";\r\nimport Message from \"./Message/Message\";\r\nimport SendMessageForm from \"./SendMessageForm\";\r\n\r\nconst Dialogs = (props) => {\r\n  \r\n  const addNewMessage = (values) => {\r\n    props.sendMessage(values.message)\r\n  }\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-4 col-md-3\">\r\n        <div className=\"card bg-dark p-2 m-2\">\r\n          {props.messagesPage.dialogs.map((dialog) => {\r\n            \r\n            return <DialogItem\r\n              name={dialog.name}\r\n              id={dialog.id}\r\n              key={dialog.id}\r\n              setActiveDialog={props.setActiveDialog}\r\n              activeDialog={props.messagesPage.activeDialog}\r\n            />}\r\n          )}\r\n          <button className=\"btn btn-warning btn-sm\">***</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"col\">\r\n        <Route path=\"/dialogs/:dialogId\"\r\n            render={ () => {\r\n              let userId = props.match.params.dialogId\r\n              let currentUserMessages = props.messagesPage.dialogs.filter((dialog) => {return +dialog.id === +userId})\r\n              return <div className=\"list-group m-2\">\r\n                <div className=\"list-group-item text-center bg-light\">\r\n                  <b>{currentUserMessages[0].name}</b>\r\n                </div>\r\n                <div className=\"list-group-item\">\r\n                  {currentUserMessages[0].messages.map((message) => (\r\n                    <Message text={message.message} key={message.id} />\r\n                  ))}\r\n                </div>\r\n                <SendMessageForm \r\n                  onSubmit={addNewMessage}  \r\n                />\r\n              </div>\r\n            }\r\n          }\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Dialogs;\r\n","\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { sendMessageCreator, setActiveDialogAC} from \"../../redux/messagesReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    messagesPage: state.messagesPage,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    sendMessage: (newMessageBody) => {\r\n      dispatch(sendMessageCreator(newMessageBody))\r\n    },\r\n    setActiveDialog: (activeDialogNumber) => {\r\n      dispatch(setActiveDialogAC(activeDialogNumber))\r\n    }\r\n  }  \r\n}\r\n\r\nexport default compose( \r\n  connect(mapStateToProps, mapDispatchToProps), \r\n  withRouter,\r\n  withAuthRedirect\r\n)(Dialogs)\r\n"],"sourceRoot":""}