(this.webpackJsonpsocialweb=this.webpackJsonpsocialweb||[]).push([[5],{226:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var c=function(e){if(!e)return"error message"},a=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},s=function(e){return function(t){if(t&&t.length<e)return"Min length is ".concat(e," symbols")}}},227:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var c=n(3),a=n(233),s=n(0),r=(n(1),n(228),function(e){e.input;var t=e.meta,n=(e.child,Object(a.a)(e,["input","meta","child"])),c=t.touched&&t.error;return Object(s.jsxs)("div",{className:"formControl"+(c?" error":""),children:[Object(s.jsx)("div",{children:n.children}),c&&Object(s.jsxs)("span",{children:['"',t.error,'"']})]})}),o=function(e){var t=e.input,n=(e.meta,e.child,Object(a.a)(e,["input","meta","child"]));return Object(s.jsx)(r,Object(c.a)(Object(c.a)({},e),{},{children:Object(s.jsx)("textarea",Object(c.a)(Object(c.a)({},t),n))}))},i=function(e){var t=e.input,n=(e.meta,e.child,Object(a.a)(e,["input","meta","child"]));return Object(s.jsx)(r,Object(c.a)(Object(c.a)({},e),{},{children:Object(s.jsx)("input",Object(c.a)(Object(c.a)({},t),n))}))},l=function(e){var t=e.input,n=(e.meta,e.child,Object(a.a)(e,["input","meta","child"]));return Object(s.jsx)(r,Object(c.a)(Object(c.a)({},e),{},{children:Object(s.jsx)("input",Object(c.a)(Object(c.a)({type:"checkbox"},t),n))}))}},228:function(e,t,n){},229:function(e,t,n){"use strict";var c=n(0),a=(n(1),n.p+"static/media/randomAvatar1.debd756e.jpg"),s=n.p+"static/media/randomAvatar2.42e73c64.webp",r=n.p+"static/media/randomAvatar3.425f2b50.jpg",o=n.p+"static/media/randomAvatar4.d9ac67cd.jpg",i=n.p+"static/media/randomAvatar5.c0dacda5.jpg",l=n.p+"static/media/randomAvatar6.9c5275ab.jpg",u=n.p+"static/media/randomAvatar7.fb26aaed.jpg",d=n.p+"static/media/randomAvatar8.7ec704b8.jpg",j=n.p+"static/media/randomAvatar9.775f6832.jpg",b=n.p+"static/media/randomAvatar0.1a9a8fe7.jpg",f=function(e){switch(e){case 1:return a;case 2:return s;case 3:return r;case 4:return o;case 5:return i;case 6:return l;case 7:return u;case 8:return d;case 9:return j;default:return b}};t.a=function(e){var t=e.userId,n=String(t),a=parseInt(n[n.length-1])||Math.ceil(10*Math.random());return Object(c.jsx)("img",{className:"w-100 rounded",src:f(a),alt:"randomAvatar"})}},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var c=n(3),a=n(32),s=n(33),r=n(35),o=n(34),i=n(0),l=n(1),u=n.n(l),d=n(19),j=n(7),b=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(r.a)(l,t);var n=Object(o.a)(l);function l(){return Object(a.a)(this,l),n.apply(this,arguments)}return Object(s.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(i.jsx)(e,Object(c.a)({},this.props)):Object(i.jsx)(j.a,{to:"/login"})}}]),l}(u.a.Component);return Object(d.b)(b)(t)}},238:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var c=function(e){return e.usersPage.users},a=function(e){return e.usersPage.pageSize},s=function(e){return e.usersPage.totalUsersCount},r=function(e){return e.usersPage.currentPage},o=function(e){return e.usersPage.isFetching},i=function(e){return e.usersPage.followingInProgress}},239:function(e,t,n){"use strict";var c=n(0);n(1);t.a=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,s=e.follow;return t.followed?Object(c.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:"btn btn-block btn-warning",onClick:function(){a(t.id)},children:"Unfollow"}):Object(c.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:"btn btn-block btn-success",onClick:function(){s(t.id)},children:"Follow"})}},252:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(32),s=n(33),r=n(35),o=n(34),i=n(0),l=n(1),u=n.n(l),d=n(19),j=n(7),b=n(18),f=n(232),h=n(58),m=n(59),O=n(238),p=n(36),x=n(105),v=n(106),g=n(226),w=n(227),N=Object(g.a)(100),P=Object(v.a)({form:"addPost"})((function(e){return Object(i.jsx)("form",{onSubmit:e.handleSubmit,children:Object(i.jsx)("div",{className:"raw",children:Object(i.jsxs)("div",{className:"col-12 col-md-7",children:[Object(i.jsx)(x.a,{name:"post",component:w.c,className:"form-control",validate:[g.c,N],placeholder:"Post message"}),Object(i.jsx)("div",{className:"mt-1",children:Object(i.jsx)("button",{className:"btn btn-sm btn-warning btn-block",children:Object(i.jsx)("b",{children:"ADD POST"})})})]})})})})),k=n(229),y=(n(252),function(e){var t=e.message,n=e.likeCount,c=void 0===n?0:n,a=e.profile,s=e.deletePost,r=e.postId;return t?Object(i.jsx)("div",{className:"mb-2 card border-0 bg-dark",children:Object(i.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(i.jsxs)("div",{className:"list-group list-group-horizontal m-1",children:[Object(i.jsx)("div",{className:"postAvatar list-group-item p-1",children:a.photos.large?Object(i.jsx)("img",{className:"rounded",src:a.photos.large,alt:"avatar"}):Object(i.jsx)(k.a,{userId:a.userId})}),Object(i.jsx)("div",{className:"d-flex justify-content-center align-items-center list-group-item p-0 like",children:Object(i.jsx)("span",{className:"p-2",children:Object(i.jsxs)("b",{children:["\u2665",c]})})})]}),Object(i.jsx)("div",{className:"card overflowHack flex-grow-1 m-1 p-2",children:t}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{onClick:function(){s(r)},className:"btn btn-sm btn-warning m-1 mr-2 p-2",children:"\ud83d\uddd1"})})]})}):null}),C=u.a.memo((function(e){console.log("render MyPosts");return Object(i.jsxs)("div",{className:"mx-3 mb-3 px-3 card bg-secondary",children:[Object(i.jsx)("h3",{className:"p-2",children:"MY POSTS"}),Object(i.jsx)(P,{onSubmit:function(t){e.addPost(t.post)}}),Object(i.jsx)("hr",{}),Object(i.jsx)("div",{className:"pb-3",children:e.postsData.map((function(t){return Object(i.jsx)(y,{message:t.message,likeCount:t.likeCount,postId:t.id,profile:e.profile,deletePost:e.deletePost},t.id)}))})]})})),A=Object(d.b)((function(e){return{postsData:e.profilePage.posts,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){e(Object(h.a)(t))},deletePost:function(t){e(Object(h.c)(t))}}}))(C),I=n(239);var S=n(72);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],c=!0,a=!1,s=void 0;try{for(var r,o=e[Symbol.iterator]();!(c=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);c=!0);}catch(i){a=!0,s=i}finally{try{c||null==o.return||o.return()}finally{if(a)throw s}}return n}}(e,t)||Object(S.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){var t=e.profile,n=e.isOwner,c=e.savePhoto;console.log("render ProfileAvatarWithName");var a=T(Object(l.useState)(!1),2),s=a[0],r=a[1];return t?Object(i.jsxs)("div",{className:"card bg-light m-2 profileAvatar",children:[Object(i.jsx)("h2",{className:"card-header text-center",children:t.fullName}),t.photos.large?Object(i.jsx)("img",{className:"card-img",src:t.photos.large,alt:"avatar"}):Object(i.jsx)(k.a,{userId:t.userId}),n&&Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){r(!s)},className:"btn btn-warning btn-block btn-sm",children:Object(i.jsx)("b",{children:s?"CANCEL":"CHANGE AVATAR"})}),s&&Object(i.jsx)("input",{className:"btn btn-sm btn-block btn-light",type:"file",onChange:function(e){e.target.files.length&&c(e.target.files[0])}})]})]}):Object(i.jsx)(p.a,{})},M=(n(228),Object(v.a)({form:"editContacts"})((function(e){var t=e.setEditModeOff,n=e.handleSubmit,c=e.saveContactsError;console.log("render ContactsEdit");var a=function(e){var t=e.name,n=e.validate,c=e.placeholder;return Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[Object(i.jsxs)("b",{children:[c,": "]}),Object(i.jsx)("div",{className:"ml-2 flex-grow-1",children:Object(i.jsx)(x.a,{name:t,component:w.b,className:"form-control",validate:n,placeholder:c})})]})};return Object(i.jsxs)("div",{className:"card bg-secondary m-2",children:[Object(i.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[Object(i.jsx)("h5",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),Object(i.jsx)("button",{className:"btn btn-sm btn-warning",onClick:t,children:Object(i.jsx)("b",{children:"CANCEL"})})]}),Object(i.jsxs)("form",{onSubmit:n,children:[Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)(x.a,{name:"aboutMe",component:w.c,className:"form-control",validate:[g.c],placeholder:"About me"}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"card-text mb-2",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f: "}),Object(i.jsx)(x.a,{name:"fullName",component:w.b,className:"form-control mt-2",validate:[g.c],placeholder:"Full name"}),Object(i.jsx)("hr",{})]}),Object(i.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[Object(i.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),Object(i.jsx)(x.a,{name:"lookingForAJob",component:w.a,className:"ml-2"})]})]}),Object(i.jsx)(x.a,{name:"lookingForAJobDescription",component:w.c,className:"form-control",validate:[g.c],placeholder:"Looking for a job description"})]}),Object(i.jsx)("div",{className:"card-header d-flex justify-content-between align-items-center",children:Object(i.jsx)("h5",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"})}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)(a,{name:"contacts.facebook",validate:[],placeholder:"Facebook"}),Object(i.jsx)(a,{name:"contacts.website",validate:[],placeholder:"Website"}),Object(i.jsx)(a,{name:"contacts.vk",validate:[],placeholder:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"}),Object(i.jsx)(a,{name:"contacts.twitter",validate:[],placeholder:"Twitter"}),Object(i.jsx)(a,{name:"contacts.instagram",validate:[],placeholder:"Instagram"}),Object(i.jsx)(a,{name:"contacts.github",validate:[],placeholder:"GitHub"}),Object(i.jsx)(a,{name:"contacts.youtube",validate:[],placeholder:"YouTube"}),Object(i.jsx)(a,{name:"contacts.mainLink",validate:[],placeholder:"mainLink"}),c&&Object(i.jsx)("div",{className:"formSummaryError text-center card-text",children:c}),Object(i.jsx)("button",{className:"btn btn-sm btn-warning btn-block",children:Object(i.jsx)("b",{children:"SAVE"})})]})]})]})}))),V=(n(97),function(e){var t=e.contactTitle,n=e.contactValue;return Object(i.jsxs)("p",{className:"card-text overflowHack2",children:[Object(i.jsxs)("b",{children:[t,":"]})," ",Object(i.jsx)("a",{href:n,children:n||"\u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})]})}),D=function(e){var t=e.profile,n=e.setEditModeOn,c=e.isOwner,a=e.toggleContacts,s=e.seeContacts;return console.log("render ContactsNoEdit"),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"card bg-light m-2",children:[Object(i.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[Object(i.jsx)("h5",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),c&&Object(i.jsx)("button",{className:"btn btn-sm btn-warning",onClick:n,children:Object(i.jsx)("b",{children:"EDIT"})})]}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("p",{className:"card-text",children:['"',t.aboutMe,'"']}),Object(i.jsx)("hr",{}),Object(i.jsxs)("div",{className:"card-text",children:[Object(i.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})," ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),t.lookingForAJobDescription&&Object(i.jsx)("div",{className:"mt-2",children:t.lookingForAJobDescription})]})]}),Object(i.jsxs)("div",{className:"card bg-light m-2",children:[Object(i.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[Object(i.jsx)("h5",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(i.jsx)("button",{className:"btn btn-sm btn-warning",onClick:a,children:s?Object(i.jsx)("b",{children:"\u25b2"}):Object(i.jsx)("b",{children:"\u25bc"})})]}),s&&Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)(V,{contactTitle:"Facebook",contactValue:t.contacts.facebook}),Object(i.jsx)(V,{contactTitle:"\u0421\u0430\u0439\u0442",contactValue:t.contacts.website}),Object(i.jsx)(V,{contactTitle:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",contactValue:t.contacts.vk}),Object(i.jsx)(V,{contactTitle:"Twitter",contactValue:t.contacts.twitter}),Object(i.jsx)(V,{contactTitle:"Instagram",contactValue:t.contacts.instagram}),Object(i.jsx)(V,{contactTitle:"GitHub",contactValue:t.contacts.github}),Object(i.jsx)(V,{contactTitle:"YouTube",contactValue:t.contacts.youtube}),Object(i.jsx)(V,{contactTitle:"mainLink",contactValue:t.contacts.mainLink})]})]})]})},F=function(e){var t=e.profile,n=e.isOwner,c=e.saveProfile;console.log("render ProfileContacts");var a=T(Object(l.useState)(!0),2),s=a[0],r=a[1],o=T(Object(l.useState)(!1),2),u=o[0],d=o[1],j=T(Object(l.useState)(null),2),b=j[0],f=j[1];return Object(i.jsx)("div",{children:u?Object(i.jsx)(M,{initialValues:t,setEditModeOff:function(){d(!1),f(null)},onSubmit:function(e){c(e).then((function(){d(!1),f(null)})).catch((function(e){return f(e)}))},saveContactsError:b}):Object(i.jsx)(D,{profile:t,setEditModeOn:function(){d(!0)},isOwner:n,toggleContacts:function(){r(!s)},seeContacts:s})})},U=u.a.memo((function(e){console.log("render ProfileStatusWithHooks");var t=T(Object(l.useState)(!1),2),n=t[0],c=t[1],a=T(Object(l.useState)(e.status),2),s=a[0],r=a[1];Object(l.useEffect)((function(){r(e.status)}),[e.status]);return Object(i.jsxs)("div",{className:"card m-2 p-2 text-center bg-light",children:[!n&&Object(i.jsx)("div",{className:"pb-2",children:Object(i.jsxs)("span",{onDoubleClick:e.isOwner&&function(){c(!0)},children:['"',e.status||"-----",'"']})}),n&&Object(i.jsx)("div",{children:Object(i.jsx)("input",{onChange:function(e){r(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(s)},value:s})})]})})),J=u.a.memo((function(e){console.log("render ProfileInfo");var t=e.users.filter((function(t){return t.id===e.profile.userId})),n=e.authUserId===e.profile.userId;return Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"card bg-dark m-3",children:Object(i.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(i.jsxs)("div",{className:"",children:[Object(i.jsx)(E,{profile:e.profile,isOwner:n,savePhoto:e.savePhoto}),Object(i.jsx)(U,{profile:e.profile,isOwner:n,status:e.status,updateStatus:e.updateStatus}),t[0]?Object(i.jsx)("div",{className:"mx-2 mb-2",children:Object(i.jsx)(I.a,{user:t[0],followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow})}):""]}),Object(i.jsx)("div",{className:"flex-grow-1",children:Object(i.jsx)(F,{profile:e.profile,isOwner:n,saveProfile:e.saveProfile})})]})})})})),L=u.a.memo((function(e){return e.profile?Object(i.jsxs)("div",{children:[Object(i.jsx)(J,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow,users:e.users,authUserId:e.authUserId,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),Object(i.jsx)(A,{store:e.store})]}):Object(i.jsx)(p.a,{})})),H=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).refreshProfile=function(){var t=e.props.match.params.userId;t||(t=e.props.authUserId)||e.props.history.push("/login"),e.props.getProfileThunkCreator(t),e.props.getStatusThunkCreator(t)},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsx)(L,Object(c.a)(Object(c.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusThunkCreator,followingInProgress:this.props.followingInProgress,unfollow:this.props.unfollow,follow:this.props.follow,users:this.props.users,authUserId:this.props.authUserId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))})}}]),n}(u.a.Component),G={getProfileThunkCreator:h.d,getStatusThunkCreator:h.e,updateStatusThunkCreator:h.h,unfollow:m.f,follow:m.b,savePhoto:h.f,saveProfile:h.g};t.default=Object(b.d)(Object(d.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth,followingInProgress:Object(O.b)(e),users:Object(O.f)(e)}}),G),j.g,f.a)(H)}}]);
//# sourceMappingURL=5.422a4fa2.chunk.js.map