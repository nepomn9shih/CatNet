{"version":3,"sources":["utils/validators.js","components/FormsControls/FormsControls.js","components/Login/Login.js","components/Login/LoginContainer.js"],"names":["requiredField","value","maxLengthCreator","maxLength","length","minLengthCreator","minLength","FormControl","input","meta","props","child","hasError","touched","error","className","children","Textarea","restProps","Input","CheckBox","type","maxLength20","minLength4","LoginReduxForm","reduxForm","form","handleSubmit","captchaUrl","onSubmit","Field","name","placeholder","component","validate","src","alt","Login","loginThunkCreator","isAuth","to","formData","email","password","rememberMe","captcha","mapDispatchToProps","logoutThunkCreator","connect","state","auth"],"mappings":"wGACA,sGAAO,IAAMA,EAAgB,SAACC,GAC1B,IAAIA,EACJ,MAAO,iBAGEC,EAAmB,SAACC,GAC9B,OAAQ,SAACF,GACJ,GAAIA,GAAUA,EAAMG,OAASD,EAAY,MAAM,iBAAN,OAAwBA,EAAxB,cAKpCE,EAAmB,SAACC,GAC7B,OAAQ,SAACL,GACJ,GAAIA,GAAUA,EAAMG,OAASE,EAAY,MAAM,iBAAN,OAAwBA,EAAxB,e,kKCZ5CC,G,YAAc,SAAC,GAAmC,EAAlCC,MAAmC,IAA5BC,EAA2B,EAA3BA,KAAgBC,GAAW,EAArBC,MAAqB,yCAE9CC,EAAWH,EAAKI,SAAWJ,EAAKK,MAEtC,OACI,sBAAKC,UAAW,eAAiBH,EAAW,SAAW,IAAvD,UACI,8BACIF,EAAMM,WAETJ,GAAY,qCAAQH,EAAKK,MAAb,YAKZG,EAAW,SAACP,GAAW,IACzBF,EAAoCE,EAApCF,MAAuBU,GAAaR,EAA7BD,KAA6BC,EAAvBC,MADW,YACYD,EADZ,2BAE/B,OAAO,cAACH,EAAD,2BAAiBG,GAAjB,aAAwB,oDAAcF,GAAWU,QAG/CC,EAAQ,SAACT,GAAW,IACtBF,EAAoCE,EAApCF,MAAuBU,GAAaR,EAA7BD,KAA6BC,EAAvBC,MADQ,YACeD,EADf,2BAE5B,OAAO,cAACH,EAAD,2BAAiBG,GAAjB,aAAwB,iDAAWF,GAAWU,QAG5CE,EAAW,SAACV,GAAW,IACzBF,EAAoCE,EAApCF,MAAuBU,GAAaR,EAA7BD,KAA6BC,EAAvBC,MADW,YACYD,EADZ,2BAE/B,OAAO,cAACH,EAAD,2BAAiBG,GAAjB,aAAwB,+CAAOW,KAAK,YAAeb,GAAWU,S,2ICHnEI,EAAcpB,YAAiB,IAC/BqB,EAAalB,YAAiB,GAyC9BmB,EAAiBC,YAAU,CAACC,KAAM,SAAjBD,EAvCL,SAAC,GAAuC,IAAtCE,EAAqC,EAArCA,aAAcb,EAAuB,EAAvBA,MAAOc,EAAgB,EAAhBA,WACrC,OACI,uBAAMC,SAAUF,EAAhB,UACE,8BACE,cAACG,EAAA,EAAD,CACEC,KAAM,QACNC,YAAa,QACbC,UAAWd,IACXe,SAAU,CAAClC,IAAesB,OAG9B,8BACE,cAACQ,EAAA,EAAD,CACEC,KAAM,WACNV,KAAM,WACNW,YAAa,WACbC,UAAWd,IACXe,SAAU,CAAClC,IAAesB,EAAaC,OAG1CK,GAAc,qBAAKO,IAAKP,EAAYQ,IAAK,YACzCR,GAAc,cAACE,EAAA,EAAD,CACXC,KAAM,UACNC,YAAa,qBACbC,UAAWd,IACXe,SAAU,CAAClC,OAEdc,GAAS,qBAAKC,UAAU,mBAAf,SAAmCD,IAC7C,sBAAKC,UAAU,wDAAf,UACE,cAACe,EAAA,EAAD,CAAOC,KAAM,aAAcV,KAAM,WAAYY,UAAWd,MACxD,qBAAKJ,UAAU,OAAf,4BAEF,8BACE,wBAAQA,UAAU,4BAAlB,2BAQGsB,EAhED,SAAC,GAA6C,IAA5CC,EAA2C,EAA3CA,kBAAmBC,EAAwB,EAAxBA,OAAQX,EAAgB,EAAhBA,WAMzC,OAAIW,EACK,cAAC,IAAD,CAAUC,GAAI,aAGrB,qBAAKzB,UAAU,6BAAf,SACI,sBAAKA,UAAU,2BAAf,UACI,uCACA,cAACS,EAAD,CAAgBK,SAXT,SAACY,GAChBH,EAAkBG,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASI,UAUvCjB,WAAYA,UCPtDkB,EAAqB,CACzBR,sBACAS,wBAGaC,uBAZS,SAACC,GACvB,MAAO,CACLV,OAAQU,EAAMC,KAAKX,OACnBX,WAAYqB,EAAMC,KAAKtB,cASakB,EAAzBE,CAA6CX","file":"static/js/7.522c1eb3.chunk.js","sourcesContent":["\r\nexport const requiredField = (value) => {\r\n    if (value) return undefined\r\n    return \"error message\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => {\r\n   return ((value) => {\r\n        if (value && (value.length > maxLength)) return `Max length is ${maxLength} symbols`\r\n        return undefined\r\n    })\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => {\r\n    return ((value) => {\r\n         if (value && (value.length < minLength)) return `Min length is ${minLength} symbols`\r\n         return undefined\r\n     })\r\n }","import React from \"react\";\r\nimport './FormsControls.css'\r\n\r\nconst FormControl = ({input, meta, child, ...props}) => {\r\n    \r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={\"formControl\" + (hasError ? \" error\" : \"\")}>\r\n            <div>\r\n               {props.children}\r\n            </div>\r\n            {hasError && <span>\"{meta.error}\"</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>   \r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>   \r\n}\r\n\r\nexport const CheckBox = (props) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input type=\"checkbox\" {...input} {...restProps}/></FormControl>   \r\n}\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { maxLengthCreator, requiredField, minLengthCreator } from \"../../utils/validators\";\r\nimport { Input } from \"../FormsControls/FormsControls\";\r\n\r\nconst Login = ({loginThunkCreator, isAuth, captchaUrl}) => {\r\n\r\n  const onSubmit = (formData) => {\r\n    loginThunkCreator(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n  }\r\n\r\n  if (isAuth) {\r\n    return <Redirect to={\"/profile\"} />\r\n  }\r\n  return (\r\n    <div className=\"d-flex justify-content-end\">\r\n        <div className=\"m-2 card p-2 text-center\">\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n        </div>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nconst maxLength20 = maxLengthCreator(20)\r\nconst minLength4 = minLengthCreator(4)\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n          <div>\r\n            <Field \r\n              name={\"email\"} \r\n              placeholder={\"Email\"} \r\n              component={Input}\r\n              validate={[requiredField, maxLength20]}\r\n              />\r\n          </div>\r\n          <div>\r\n            <Field \r\n              name={\"password\"} \r\n              type={\"password\"} \r\n              placeholder={\"Password\"} \r\n              component={Input}\r\n              validate={[requiredField, maxLength20, minLength4]}\r\n              />\r\n          </div>\r\n          {captchaUrl && <img src={captchaUrl} alt={\"captcha\"}/>}\r\n          {captchaUrl && <Field \r\n              name={\"captcha\"} \r\n              placeholder={\"Symbols in captcha\"} \r\n              component={Input}\r\n              validate={[requiredField]}\r\n              />}\r\n          {error && <div className=\"formSummaryError\">{error}</div>}\r\n          <div className=\"d-flex justify-content-center align-items-center my-1\">\r\n            <Field name={\"rememberMe\"} type={\"checkbox\"} component={Input}/> \r\n            <div className=\"ml-2\">Remember me</div>\r\n          </div>\r\n          <div>\r\n            <button className=\"btn btn-warning btn-block\">Login</button> \r\n          </div>\r\n        </form>\r\n    );\r\n  };\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nexport default Login;\r\n","\r\nimport { connect } from \"react-redux\";\r\nimport { loginThunkCreator, logoutThunkCreator } from \"../../redux/authReducer\";\r\nimport Login from \"./Login\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  loginThunkCreator,\r\n  logoutThunkCreator\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n"],"sourceRoot":""}