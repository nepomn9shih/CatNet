(this.webpackJsonpsocialweb=this.webpackJsonpsocialweb||[]).push([[5],{226:function(t,e,r){"use strict";r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return n}));var s=function(t){if(!t)return"error message"},a=function(t){return function(e){if(e&&e.length>t)return"Max length is ".concat(t," symbols")}},n=function(t){return function(e){if(e&&e.length<t)return"Max length is ".concat(t," symbols")}}},227:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return i}));var s=r(3),a=r(233),n=r(0),c=(r(1),r(228),function(t){t.input;var e=t.meta,r=(t.child,Object(a.a)(t,["input","meta","child"])),s=e.touched&&e.error;return Object(n.jsxs)("div",{className:"formControl"+(s?" error":""),children:[Object(n.jsx)("div",{children:r.children}),s&&Object(n.jsxs)("span",{children:['"',e.error,'"']})]})}),o=function(t){var e=t.input,r=(t.meta,t.child,Object(a.a)(t,["input","meta","child"]));return Object(n.jsx)(c,Object(s.a)(Object(s.a)({},t),{},{children:Object(n.jsx)("textarea",Object(s.a)(Object(s.a)({},e),r))}))},i=function(t){var e=t.input,r=(t.meta,t.child,Object(a.a)(t,["input","meta","child"]));return Object(n.jsx)(c,Object(s.a)(Object(s.a)({},t),{},{children:Object(n.jsx)("input",Object(s.a)(Object(s.a)({},e),r))}))}},228:function(t,e,r){},231:function(t,e,r){"use strict";r.d(e,"b",(function(){return f}));var s=r(0),a=(r(1),r.p+"static/media/randomAvatar1.debd756e.jpg"),n=r.p+"static/media/randomAvatar2.42e73c64.webp",c=r.p+"static/media/randomAvatar3.425f2b50.jpg",o=r.p+"static/media/randomAvatar4.d9ac67cd.jpg",i=r.p+"static/media/randomAvatar5.c0dacda5.jpg",l=r.p+"static/media/randomAvatar6.9c5275ab.jpg",u=r.p+"static/media/randomAvatar7.fb26aaed.jpg",d=r.p+"static/media/randomAvatar8.7ec704b8.jpg",j=r.p+"static/media/randomAvatar9.775f6832.jpg",b=r.p+"static/media/randomAvatar0.1a9a8fe7.jpg",f=function(t){switch(t){case 1:return a;case 2:return n;case 3:return c;case 4:return o;case 5:return i;case 6:return l;case 7:return u;case 8:return d;case 9:return j;default:return b}};e.a=function(t){var e=t.userId,r=String(e),a=parseInt(r[r.length-1]);console.log(a);var n=a||Math.ceil(10*Math.random());return Object(s.jsx)("img",{className:"w-100 rounded",src:f(n),alt:"randomAvatar"})}},232:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var s=r(3),a=r(33),n=r(34),c=r(36),o=r(35),i=r(0),l=r(1),u=r.n(l),d=r(19),j=r(7),b=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var e=function(e){Object(c.a)(l,e);var r=Object(o.a)(l);function l(){return Object(a.a)(this,l),r.apply(this,arguments)}return Object(n.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(i.jsx)(t,Object(s.a)({},this.props)):Object(i.jsx)(j.a,{to:"/login"})}}]),l}(u.a.Component);return Object(d.b)(b)(e)}},238:function(t,e,r){"use strict";r.d(e,"f",(function(){return s})),r.d(e,"d",(function(){return a})),r.d(e,"e",(function(){return n})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return i}));var s=function(t){return t.usersPage.users},a=function(t){return t.usersPage.pageSize},n=function(t){return t.usersPage.totalUsersCount},c=function(t){return t.usersPage.currentPage},o=function(t){return t.usersPage.isFetching},i=function(t){return t.usersPage.followingInProgress}},239:function(t,e,r){"use strict";var s=r(0);r(1);e.a=function(t){var e=t.user,r=t.followingInProgress,a=t.unfollow,n=t.follow;return e.followed?Object(s.jsx)("button",{disabled:r.some((function(t){return t===e.id})),className:"btn btn-block btn-warning",onClick:function(){a(e.id)},children:"Unfollow"}):Object(s.jsx)("button",{disabled:r.some((function(t){return t===e.id})),className:"btn btn-block btn-success",onClick:function(){n(e.id)},children:"Follow"})}},252:function(t,e,r){},297:function(t,e,r){"use strict";r.r(e);var s=r(3),a=r(33),n=r(34),c=r(36),o=r(35),i=r(0),l=r(1),u=r.n(l),d=r(19),j=r(7),b=r(18),f=r(232),h=r(58),p=r(59),m=r(238),O=r(32),x=r(104),g=r(105),v=r(226),w=r(227),N=Object(v.a)(100),I=Object(g.a)({form:"addPost"})((function(t){return Object(i.jsx)("form",{onSubmit:t.handleSubmit,children:Object(i.jsx)("div",{className:"raw",children:Object(i.jsxs)("div",{className:"col-12 col-md-7",children:[Object(i.jsx)(x.a,{name:"post",component:w.b,className:"form-control",validate:[v.c,N],placeholder:"Post message"}),Object(i.jsx)("div",{className:"mt-1",children:Object(i.jsx)("button",{className:"btn btn-sm btn-warning btn-block",children:"Add post"})})]})})})})),P=r(231),k=(r(252),function(t){var e=t.message,r=t.likeCount,s=void 0===r?0:r,a=t.profile;return e?(console.log(a),Object(i.jsx)("div",{className:"mb-2 card border-0 bg-dark",children:Object(i.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(i.jsxs)("div",{className:"list-group list-group-horizontal m-1",children:[Object(i.jsx)("div",{className:"postAvatar list-group-item p-1",children:a.photos.large?Object(i.jsx)("img",{className:"rounded",src:a.photos.large,alt:"avatar"}):Object(i.jsx)(P.a,{userId:a.userId})}),Object(i.jsx)("div",{className:"d-flex justify-content-center align-items-center list-group-item p-0 like",children:Object(i.jsx)("span",{className:"p-2",children:Object(i.jsxs)("b",{children:["\u2665",s]})})})]}),Object(i.jsx)("div",{className:"card overflowHack flex-grow-1 m-1 p-2",children:e})]})})):null}),y=u.a.memo((function(t){return Object(i.jsxs)("div",{className:"mx-3 mb-3 px-3 card bg-secondary",children:[Object(i.jsx)("h3",{className:"p-2",children:"My posts"}),Object(i.jsx)(I,{onSubmit:function(e){t.addPost(e.post)}}),Object(i.jsx)("hr",{}),Object(i.jsx)("div",{className:"pb-3",children:t.postsData.map((function(e){return Object(i.jsx)(k,{message:e.message,likeCount:e.likeCount,profile:t.profile},e.id)}))})]})})),A=Object(d.b)((function(t){return{postsData:t.profilePage.posts,profile:t.profilePage.profile}}),(function(t){return{addPost:function(e){t(Object(h.a)(e))}}}))(y),S=r(239),C=function(t){var e=t.profile;return Object(i.jsxs)("div",{className:"card bg-light m-2",children:[Object(i.jsx)("h5",{className:"card-header",children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),Object(i.jsx)("div",{className:"card-body",children:Object(i.jsxs)("p",{className:"card-text",children:['"',e.aboutMe,'"']})})]})};var U=r(72);function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],s=!0,a=!1,n=void 0;try{for(var c,o=t[Symbol.iterator]();!(s=(c=o.next()).done)&&(r.push(c.value),!e||r.length!==e);s=!0);}catch(i){a=!0,n=i}finally{try{s||null==o.return||o.return()}finally{if(a)throw n}}return r}}(t,e)||Object(U.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(t){var e=t.profile,r=t.authUserId,s=t.savePhoto,a=T(Object(l.useState)(!1),2),n=a[0],c=a[1];return Object(i.jsxs)("div",{className:"card bg-light m-2 profileAvatar",children:[Object(i.jsx)("h2",{className:"card-header text-center",children:e.fullName}),e.photos.large?Object(i.jsx)("img",{className:"card-img",src:e.photos.large,alt:"avatar"}):Object(i.jsx)(P.a,{userId:e.userId}),r===e.userId&&Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){c(!n)},className:"btn btn-warning btn-block btn-sm",children:n?"Cancel":"Change avatar"}),n&&Object(i.jsx)("input",{className:"btn btn-sm btn-block btn-light",type:"file",onChange:function(t){t.target.files.length&&s(t.target.files[0])}})]})]})},D=function(t){var e=t.profile;return Object(i.jsxs)("div",{className:"card bg-light m-2",children:[Object(i.jsx)("h5",{className:"card-header",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsxs)("p",{className:"card-text",children:[Object(i.jsx)("b",{children:"Facebook:"})," ",Object(i.jsx)("a",{href:e.contacts.facebook,children:e.contacts.facebook||"\u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})]}),Object(i.jsxs)("p",{className:"card-text",children:[Object(i.jsx)("b",{children:"\u0421\u0430\u0439\u0442:"})," ",Object(i.jsx)("a",{href:e.contacts.website,children:e.contacts.website||"\u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})]}),Object(i.jsxs)("p",{className:"card-text",children:[Object(i.jsx)("b",{children:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435:"})," ",Object(i.jsx)("a",{href:e.contacts.vk,children:e.contacts.vk||"\u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})]}),Object(i.jsxs)("p",{className:"card-text",children:[Object(i.jsx)("b",{children:"Twitter:"})," ",Object(i.jsx)("a",{href:e.contacts.twitter,children:e.contacts.twitter||"\u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})]}),Object(i.jsxs)("p",{className:"card-text",children:[Object(i.jsx)("b",{children:"Instagram:"})," ",Object(i.jsx)("a",{href:e.contacts.instagram,children:e.contacts.instagram||"\u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})]}),Object(i.jsxs)("p",{className:"card-text",children:[Object(i.jsx)("b",{children:"GitHub:"})," ",Object(i.jsx)("a",{href:e.contacts.github,children:e.contacts.github||"\u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})]})]})]})},F=function(t){var e=T(Object(l.useState)(!1),2),r=e[0],s=e[1],a=T(Object(l.useState)(t.status),2),n=a[0],c=a[1];Object(l.useEffect)((function(){c(t.status)}),[t.status]);return Object(i.jsxs)("div",{className:"card m-2 p-2 text-center bg-light",children:[!r&&Object(i.jsx)("div",{className:"pb-2",children:Object(i.jsxs)("span",{onDoubleClick:t.authUserId===t.profile.userId&&function(){s(!0)},children:['"',t.status||"-----",'"']})}),r&&Object(i.jsx)("div",{children:Object(i.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),t.updateStatus(n)},value:n})})]})},z=function(t){var e=t.users.filter((function(e){return e.id===t.profile.userId}));return Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"card bg-dark m-3",children:Object(i.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(i.jsxs)("div",{className:"",children:[Object(i.jsx)(M,{profile:t.profile,authUserId:t.authUserId,savePhoto:t.savePhoto}),Object(i.jsx)(F,{profile:t.profile,authUserId:t.authUserId,status:t.status,updateStatus:t.updateStatus}),e[0]?Object(i.jsx)("div",{className:"mx-2 mb-2",children:Object(i.jsx)(S.a,{user:e[0],followingInProgress:t.followingInProgress,unfollow:t.unfollow,follow:t.follow})}):""]}),Object(i.jsxs)("div",{className:"flex-grow-1",children:[Object(i.jsx)(C,{profile:t.profile}),Object(i.jsx)(D,{profile:t.profile})]})]})})})},E=function(t){return t.profile?Object(i.jsxs)("div",{children:[Object(i.jsx)(z,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,followingInProgress:t.followingInProgress,unfollow:t.unfollow,follow:t.follow,users:t.users,authUserId:t.authUserId,savePhoto:t.savePhoto}),Object(i.jsx)(A,{store:t.store})]}):Object(i.jsx)(O.a,{})},H=function(t){Object(c.a)(r,t);var e=Object(o.a)(r);function r(){var t;Object(a.a)(this,r);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).refreshProfile=function(){var e=t.props.match.params.userId;e||(e=t.props.authUserId)||t.props.history.push("/login"),t.props.getProfileThunkCreator(e),t.props.getStatusThunkCreator(e)},t}return Object(n.a)(r,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId===t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsx)(E,Object(s.a)(Object(s.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusThunkCreator,followingInProgress:this.props.followingInProgress,unfollow:this.props.unfollow,follow:this.props.follow,users:this.props.users,authUserId:this.props.authUserId,savePhoto:this.props.savePhoto}))})}}]),r}(u.a.Component),J={getProfileThunkCreator:h.c,getStatusThunkCreator:h.d,updateStatusThunkCreator:h.f,unfollow:p.f,follow:p.b,savePhoto:h.e};e.default=Object(b.d)(Object(d.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authUserId:t.auth.userId,isAuth:t.auth.isAuth,followingInProgress:Object(m.b)(t),users:Object(m.f)(t)}}),J),j.f,f.a)(H)}}]);
//# sourceMappingURL=5.bbbd20fb.chunk.js.map