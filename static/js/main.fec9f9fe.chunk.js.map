{"version":3,"sources":["API/api.js","components/Navbar/Navbar.js","images/news.gif","components/News/News.js","images/music.gif","components/Music/Music.js","images/settings.gif","components/Settings/Settings.js","images/start.gif","components/StartPage/StartPage.js","images/logo.png","components/Header/Header.js","components/Header/HeaderContainer.js","redux/appReducer.ts","components/Footer/Footer.js","hoc/withSuspense.js","images/games.gif","components/Games/Games.js","images/about.gif","components/About/About.js","images/error.gif","components/Error/Error404.js","App.js","redux/reduxStore.ts","index.js","redux/authReducer.ts","images/loading.gif","components/Preloader/Preloader.js","redux/profileReducer.ts","redux/usersReducer.ts","redux/messagesReducer.ts"],"names":["axiosCreated","require","default","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followRequest","userId","post","unfollowRequest","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","getMe","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","connect","state","dialogs","messagesPage","totalUsersCount","usersPage","isAuth","auth","props","className","to","activeClassName","length","News","src","news","alt","Music","music","Settings","settings","StartPage","start","Header","logo","onClick","logoutThunkCreator","HeaderContainer","this","React","Component","mapDispatchToProps","INITIALIZED_SUCCESS","initialState","initialized","appReducer","action","type","Footer","withSuspense","fallback","Preloader","Games","games","About","about","Error404","error","DialogsContainer","lazy","ProfileContainer","UsersContainer","LoginContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","console","initializeAppThunkCreator","window","addEventListener","removeEventListener","from","path","exact","render","activeDialog","component","dispatch","getAuthUserDataThunkCreator","compose","withRouter","app","rootReducer","combineReducers","profilePage","profileReducer","messagesReducer","usersReducer","authReducer","form","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","isFetching","captchaUrl","setUserDataAC","payload","getCaptchaUrlSuccessAC","a","resultCode","id","loginThunkCreator","getCaptchaUrlThunkCreator","message","messages","stopSubmit","_error","url","loading","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likeCount","newPostText","addPostActionCreator","setStatusAC","deletePostAC","postId","getProfileThunkCreator","getStatusThunkCreator","updateStatusThunkCreator","savePhotoThunkCreator","photo","photos","saveProfileThunkCreator","getState","Promise","reject","newPost","log","filter","p","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","followingInProgress","followAC","unfollowAC","setCurrentPageAC","setIsFetchingAC","setFollowingInProgressAC","getUsersThunkCreator","items","totalCount","unfollowThunkCreator","followThunkCreator","map","user","followed","SEND_MESSAGE","SET_ACTIVE_DIALOG","name","getIndexOfActiveDialog","i","sendMessageCreator","newMessageBody","setActiveDialogAC","activeDialogNumber","newState","JSON","parse","stringify","index","newMessage","push"],"mappings":"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","file":"static/js/main.fec9f9fe.chunk.js","sourcesContent":["const { default: Axios } = require(\"axios\");\r\n\r\nconst axiosCreated = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"api-key\": \"9cf92053-f480-493b-a7cf-c3d9c728c87e\"\r\n      }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 20) {\r\n        return axiosCreated.get(\r\n          `users?page=${currentPage}&count=${pageSize}`\r\n        ).then(response => response.data);\r\n    },\r\n\r\n    followRequest(userId) {\r\n       return axiosCreated.post(\r\n            `follow/${userId}`).then(response => response.data);\r\n    },\r\n\r\n    unfollowRequest(userId) {\r\n        return axiosCreated.delete(\r\n            `follow/${userId}`).then(response => response.data);\r\n    },\r\n    \r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return axiosCreated.get(\r\n            `profile/${userId}`\r\n        ).then(response => response.data)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return axiosCreated.get(\r\n            `profile/status/${userId}`\r\n        ).then(response => response.data)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return axiosCreated.put(\r\n            `profile/status`, {status: status}\r\n        ).then(response => response.data)\r\n    },\r\n\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photoFile)\r\n        return axiosCreated.put(\r\n            `profile/photo`, formData, {\r\n                headers: {\r\n                    'Content-Type' : 'multipart/form-data' \r\n                }\r\n            }\r\n        ).then(response => response.data)\r\n    },\r\n\r\n    saveProfile(profile) {\r\n        return axiosCreated.put(\r\n            `profile`, profile\r\n        ).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n\r\n    getMe() {\r\n        return axiosCreated.get(\r\n            `auth/me`\r\n          ).then(response => response.data);\r\n    },\r\n \r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return axiosCreated.post(\r\n            `auth/login`, {email, password, rememberMe, captcha}\r\n          ).then(response => response.data);\r\n    },\r\n\r\n    logout() {\r\n        return axiosCreated.delete(\r\n            `auth/login`\r\n          ).then(response => response.data);\r\n    },\r\n}\r\n\r\nexport const securityAPI = {\r\n\r\n    getCaptchaUrl() {\r\n        return axiosCreated.get(\r\n            `security/get-captcha-url`\r\n          ).then(response => response.data);\r\n    },\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport './Navbar.css';\r\n\r\nconst Navbar = (props) => {\r\n    return (\r\n      <nav className=\"p-3\">\r\n      <div className=\"item\">\r\n        <NavLink to=\"/profile\" activeClassName=\"active\">Profile</NavLink>\r\n      </div>\r\n      <hr />\r\n      <div className=\"item\">\r\n        <NavLink to=\"/dialogs\" activeClassName=\"active\">\r\n          Chat {props.isAuth && <span className=\"badge badge-light\">{props.dialogs.length}</span>}\r\n        </NavLink>\r\n      </div>\r\n      <div className=\"item\">\r\n        <NavLink to=\"/news\" activeClassName=\"active\">News</NavLink>\r\n      </div>\r\n      <div className=\"item\">\r\n        <NavLink to=\"/music\" activeClassName=\"active\">Music</NavLink>\r\n      </div>\r\n      <div className=\"item\">\r\n        <NavLink to=\"/games\" activeClassName=\"active\">Games</NavLink>\r\n      </div>\r\n      <div className=\"item\">\r\n        <NavLink to=\"/settings\" activeClassName=\"active\">Settings</NavLink>\r\n      </div>\r\n      <hr />\r\n      <div className=\"item\">\r\n        <NavLink to=\"/users\" activeClassName=\"active\">\r\n          Users {props.totalUsersCount \r\n              ? <span className=\"badge badge-light\">{props.totalUsersCount}</span>\r\n              : \"\"}\r\n        </NavLink>\r\n      </div>\r\n      <hr />\r\n      <div className=\"item\">\r\n        <NavLink to=\"/about\" activeClassName=\"active\">About</NavLink>\r\n      </div>\r\n    </nav>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogs: state.messagesPage.dialogs,\r\n    totalUsersCount: state.usersPage.totalUsersCount,\r\n    isAuth: state.auth.isAuth\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Navbar) ","export default __webpack_public_path__ + \"static/media/news.1fabf7a9.gif\";","import React from \"react\";\r\nimport news from '../../images/news.gif'\r\n\r\nconst News = (props) => {\r\n    return (\r\n      <div className=\"m-3 text-center text-white\">\r\n      <img className=\"w-50 rounded-circle\" src={news} alt={\"news\"}/>\r\n  <h3>Новости</h3>\r\n  </div>\r\n    )\r\n}\r\n\r\nexport default News","export default __webpack_public_path__ + \"static/media/music.42b7452b.gif\";","import React from \"react\";\r\nimport music from '../../images/music.gif'\r\n\r\nconst Music = (props) => {\r\n    return (\r\n      <div className=\"m-3 text-center text-white\">\r\n      <img className=\"w-50 rounded-circle\" src={music} alt={\"music\"}/>\r\n  <h3>Музыка</h3>\r\n  </div>\r\n    )\r\n}\r\nexport default Music","export default __webpack_public_path__ + \"static/media/settings.2a0dfdbc.gif\";","import React from \"react\";\r\nimport settings from '../../images/settings.gif'\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n      <div className=\"m-3 text-center text-white\">\r\n      <img className=\"w-50 rounded-circle\" src={settings} alt={\"settings\"}/>\r\n  <h3>Настройки</h3>\r\n  </div>\r\n    )\r\n}\r\n\r\nexport default Settings","export default __webpack_public_path__ + \"static/media/start.33df82b7.gif\";","import React from \"react\";\r\nimport start from '../../images/start.gif'\r\n\r\nconst StartPage = () => {\r\n    return (\r\n        <div className=\"m-3 text-center text-white\">\r\n            <img className=\"w-50 rounded-circle\" src={start} alt={start}/>\r\n        <h3>Добро пожаловать!</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StartPage","export default __webpack_public_path__ + \"static/media/logo.509cc660.png\";","import React from \"react\";\r\nimport './Header.css';\r\nimport logo from '../../images/logo.png'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className=\"row bg-header-colour\">\r\n        <div className=\"col-3 d-flex align-items-center\">\r\n          <img\r\n            className=\"logo\"\r\n            alt=\"logo\"\r\n            src={logo}\r\n          />\r\n        </div>\r\n        <div className=\"col-6 d-flex justify-content-center align-items-center\">\r\n          <h1 className=\"text-white\">CatNet</h1>\r\n        </div>\r\n        <div className=\"col-3 d-flex justify-content-end align-items-center link pr-3\">\r\n        {props.isAuth \r\n        ? <div className=\"d-flex justify-content-around align-items-center flex-wrap\">\r\n            <div className=\"p-1 m-1\">{props.login}</div> \r\n            <button onClick={props.logoutThunkCreator} className=\"btn btn-warning btn-sm mr-2\"><b>LOG OUT</b></button>\r\n          </div> \r\n        : <NavLink to='/login'><button className=\"btn btn-warning btn-sm mr-2\"><b>LOG IN</b></button></NavLink>}\r\n        </div>\r\n      </header>\r\n    )\r\n}\r\n\r\nexport default Header","\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {logoutThunkCreator } from \"../../redux/authReducer\";\r\nimport Header from \"./Header\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  \r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\nisAuth: state.auth.isAuth,\r\nlogin: state.auth.login,\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  logoutThunkCreator\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\r\n","import { getAuthUserDataThunkCreator } from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"app/INITIALIZED_SUCCESS\";\r\n\r\ntype AppInitialStateType = {\r\n  initialized: boolean\r\n};\r\n\r\nlet initialState: AppInitialStateType = {\r\n  initialized: false \r\n};\r\n\r\nconst appReducer = (state = initialState, action: any):AppInitialStateType => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS: \r\n      return {\r\n        ...state,\r\n        initialized: true\r\n    };\r\n    \r\n    default: return state;\r\n  }\r\n};\r\n\r\ntype initializedSuccessActionType = {\r\n  type: typeof INITIALIZED_SUCCESS\r\n}\r\n\r\nexport const initializedSuccessAC = (): initializedSuccessActionType => ({ \r\n  type: INITIALIZED_SUCCESS\r\n});\r\n\r\n//инициализация приложения, предварительный запрос данных пользователя\r\nexport const initializeAppThunkCreator = () => (dispatch: any) => {\r\n   let dispatchResult = dispatch(getAuthUserDataThunkCreator())\r\n   dispatchResult.then(() => {dispatch(initializedSuccessAC())})\r\n}\r\n\r\nexport default appReducer;\r\n","import React from \"react\";\r\nimport './Footer.css';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Footer = (props) => {\r\n    return (\r\n        <footer className=\"row d-flex justify-content-center align-items-center\">\r\n            <small className=\"item text-white text-center\">Made by <NavLink to='/profile/12627'>Непомнящих Александр</NavLink> in 2020</small>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React, { Suspense } from \"react\";\r\nimport Preloader from \"../components/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/games.932fc109.gif\";","import React from \"react\";\r\nimport games from '../../images/games.gif'\r\n\r\nconst Games = (props) => {\r\n    return (\r\n      <div className=\"m-3 text-center text-white\">\r\n      <img className=\"w-50 rounded-circle\" src={games} alt={\"games\"}/>\r\n  <h3>Игры</h3>\r\n  </div>\r\n    )\r\n}\r\n\r\nexport default Games","export default __webpack_public_path__ + \"static/media/about.6e4bc382.gif\";","import React from \"react\";\r\nimport about from '../../images/about.gif'\r\n\r\nconst About = (props) => {\r\n    return (\r\n        <div className=\"m-3 text-center text-white\">\r\n            <img className=\"w-50 rounded-circle\" src={about} alt={\"about\"}/>\r\n            <h3>О соцсети:</h3>\r\n            <div className=\"card bg-dark p-2 mb-2\">\r\n                <div><b>При разработке данной соцсети были использованы библиотеки JS:</b></div>\r\n                <div>\r\n                    <span className=\"badge badge-success\">react</span>{\" \"} \r\n                    <span className=\"badge badge-success\">react-dom</span>{\" \"}\r\n                    <span className=\"badge badge-success\">react-router-dom</span>{\" \"}\r\n                    <span className=\"badge badge-success\">react-scripts</span>{\" \"} \r\n                    <span className=\"badge badge-primary\">react-redux</span>{\" \"} \r\n                    <span className=\"badge badge-primary\">redux</span>{\" \"} \r\n                    <span className=\"badge badge-primary\">redux-form</span>{\" \"} \r\n                    <span className=\"badge badge-primary\">redux-thunk</span>{\" \"} \r\n                    <span className=\"badge badge-info\">axios</span>{\" \"} \r\n                    <span className=\"badge badge-warning\">bootstrap</span>\r\n                </div>\r\n                <div>Используется сторонний серверный API сайта <b>social-network.samuraijs.com</b></div>\r\n            </div>\r\n            <div className=\"card bg-dark p-2\">\r\n                <div>Для того, чтобы войти без регистрации введите:</div>\r\n                <div><b>Тестовый логин:</b> free@samuraijs.com</div>\r\n                <div><b>Тестовый пароль:</b> free</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default About","export default __webpack_public_path__ + \"static/media/error.a6ea8901.gif\";","import React from 'react';\r\nimport error from '../../images/error.gif'\r\n\r\nconst Error404 = () => {\r\n    return (\r\n        <div className=\"m-3 text-center text-white\">\r\n            <img className=\"w-50 rounded-circle\" src={error} alt={error}/>\r\n        <h3>404: Страница не найдена!</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error404","import React from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/Navbar/Navbar\";\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\n// import UsersContainer from \"./components/Users/UsersContainer\";\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport StartPage from \"./components/StartPage/StartPage\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\n// import LoginContainer from \"./components/Login/LoginContainer\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { initializeAppThunkCreator } from \"./redux/appReducer\";\nimport Preloader from \"./components/Preloader/Preloader\";\nimport Footer from \"./components/Footer/Footer\";\nimport { withSuspense } from \"./hoc/withSuspense\";\nimport Games from \"./components/Games/Games\";\nimport About from \"./components/About/About\";\nimport Error404 from \"./components/Error/Error404\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\nconst UsersContainer = React.lazy(() => import(\"./components/Users/UsersContainer\"))\nconst LoginContainer = React.lazy(() => import(\"./components/Login/LoginContainer\"))\n\nclass App extends React.Component {\n  \n  // обрабатываем необработанные промисы\n  catchAllUnhandledErrors = (promiseRejectionEvent) => {\n    // alert(\"Какая-то ошибка!\")\n    console.error(\"Какая-то ошибка:\" + promiseRejectionEvent)\n  }\n\n  componentDidMount() {\n    this.props.initializeAppThunkCreator()\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)  // подписываемся на необработанные промисы\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors) // отписываемся когда компонента будет размонтирована\n  }\n  \n  render () {\n  if (!this.props.initialized) {\n    return <Preloader />\n  }\n  \n  return (\n    <div className=\"container-lg px-0\">\n    <div className=\"d-flex flex-column main\">\n      <HeaderContainer />\n      <div className=\"row flex-grow-1\">\n        <div className=\"col-3 col-md-2 bg-navbar-colour\">\n          <Navbar />\n        </div>\n        <div className=\"col-9 col-md-10 bg-content-colour\">\n          <Switch>\n            <Redirect from=\"/CatNet\" to=\"/\" />\n            <Route\n              path=\"/\" exact\n              render={() => <StartPage />}\n            />\n            <Route\n              path=\"/profile/:userId?\"\n              render={withSuspense(ProfileContainer)}\n            />\n            <Redirect exact from=\"/dialogs\" to={\"/dialogs/\" + this.props.activeDialog} />\n            <Route\n              path=\"/dialogs/:dialogId?\"\n              render={withSuspense(DialogsContainer)}\n            />\n            <Route path=\"/news\" component={News} />\n            <Route path=\"/music\" component={Music} />\n            <Route path=\"/settings\" component={Settings} />\n            <Route path=\"/games\" component={Games} />\n            <Route\n              path=\"/users\"\n              render={withSuspense(UsersContainer)}\n            />\n            <Route path=\"/login\" component={withSuspense(LoginContainer)} />\n            <Route path=\"/about\" component={About} />\n            <Route path=\"*\" component={Error404} />\n          </Switch>\n        </div>\n        </div>\n        <Footer />\n      \n    </div>\n    </div>\n  );\n};\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n    activeDialog: state.messagesPage.activeDialog\n  }\n}\n\nconst mapDispatchToProps = {\n  initializeAppThunkCreator\n}\n\nexport default compose( \n  withRouter,\n  connect(mapStateToProps, mapDispatchToProps)\n)(App);\n","import {applyMiddleware, combineReducers, compose, createStore} from 'redux'\r\nimport profileReducer from './profileReducer'\r\nimport messagesReducer from './messagesReducer'\r\nimport usersReducer from './usersReducer'\r\nimport authReducer from './authReducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from './appReducer'\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer, \r\n    messagesPage: messagesReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; //подключаем синхронизацию с девтулз\r\n\r\nlet store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware))) \r\n// @ts-ignore\r\nwindow.store = store;\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport { \n  // BrowserRouter, \n  HashRouter } from \"react-router-dom\"; //используется для правильного перехода по ссылкам в GitHub Pages (в других случаях нужен BrowserRouter)\nimport store from './redux/reduxStore'\nimport { Provider } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\n// ReactDOM.render(\n//   <BrowserRouter basename={process.env.PUBLIC_URL}>\n//     <Provider store={store}>\n//       <App />\n//     </Provider>\n//   </BrowserRouter>,\n//   document.getElementById('root')\n// );\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root')\n);","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityAPI } from \"../API/api\";\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"auth/GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nlet initialState = {\r\n  userId: null as number | null,\r\n  email: null as number | null,\r\n  login: null as number | null,\r\n  isAuth: false,\r\n  isFetching: false,\r\n  captchaUrl: null as number | null //если null, то капча не обязательна\r\n};\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\nconst authReducer = (state = initialState, action: any):initialStateType => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA: \r\n    case GET_CAPTCHA_URL_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\ntype SetUserDataActionPayloadType = {\r\n  userId: number | null\r\n  email: string | null\r\n  login: string | null\r\n  isAuth: boolean\r\n}\r\n\r\ntype SetUserDataActionType = {\r\n  type: typeof SET_USER_DATA\r\n  payload: SetUserDataActionPayloadType\r\n}\r\n\r\nexport const setUserDataAC = (userId: number | null, login: string | null, email: string | null, isAuth: boolean):SetUserDataActionType => ({ \r\n  type: SET_USER_DATA, \r\n  payload: {userId, login, email, isAuth}\r\n});\r\n\r\ntype GetCaptchaUrlSuccess = {\r\n  type: typeof GET_CAPTCHA_URL_SUCCESS\r\n  payload: {captchaUrl: string | null}\r\n}\r\n\r\nexport const getCaptchaUrlSuccessAC = (captchaUrl: string | null):GetCaptchaUrlSuccess => ({ \r\n  type: GET_CAPTCHA_URL_SUCCESS, \r\n  payload: {captchaUrl}\r\n});\r\n\r\n//получение данных пользователя\r\nexport const getAuthUserDataThunkCreator = () => async (dispatch: any) => {\r\n  const data = await authAPI.getMe();\r\n  if (data.resultCode === 0) {\r\n    const {id, login, email} = data.data\r\n    dispatch(setUserDataAC(id, login, email, true))\r\n  }\r\n}\r\n\r\n//отправка данных авторизации на сервер\r\nexport const loginThunkCreator = (email: any, password: any, rememberMe: any, captcha: any) => async (dispatch: any) => {\r\n  const data = await authAPI.login(email, password, rememberMe, captcha);  \r\n  if (data.resultCode === 0) {\r\n    dispatch(getAuthUserDataThunkCreator())   //залогинились успешно, запрашиваем свои данные для профиля\r\n    dispatch(getCaptchaUrlSuccessAC(null))    //обнуляем капчу в стейте\r\n  } else {\r\n    if (data.resultCode === 10) { //не успешно, требуется капча, запрашиваем капчу\r\n      dispatch(getCaptchaUrlThunkCreator())\r\n    }\r\n    const message = data.messages.length > 0 ? data.messages[0] : \"Some error!\"\r\n    dispatch(stopSubmit(\"login\", {_error: message})) //останавливаем сабмит формы login, _error - общая ошибка (ошибка в одном из полей)\r\n  }\r\n};\r\n\r\n//вылогиниваемся из учетной записи\r\nexport const logoutThunkCreator = () => async (dispatch: any) => {\r\n  const data = await authAPI.logout()\r\n  if (data.resultCode === 0) {\r\n    dispatch(setUserDataAC(null, null, null, false))\r\n  }\r\n};\r\n\r\n//делаем запрос на капчу\r\nexport const getCaptchaUrlThunkCreator = () => async (dispatch: any) => {\r\n  const data = await securityAPI.getCaptchaUrl()\r\n  const captchaUrl = data.url\r\n  dispatch(getCaptchaUrlSuccessAC(captchaUrl))\r\n};\r\n\r\nexport default authReducer;\r\n","export default __webpack_public_path__ + \"static/media/loading.2518a913.gif\";","import React from \"react\";\r\nimport loading from \"../../images/loading.gif\"\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <img className=\"w-25 p-2\" src={loading} alt=\"loading\"/>\r\n    )\r\n}\r\n\r\nexport default Preloader","import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI } from \"../API/api\";\r\nimport { PhotosType, PostType, ProfileType } from \"../types/types\";\r\n\r\nconst ADD_POST = \"profile/ADD_POST\";\r\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\"\r\nconst SET_STATUS = \"profile/SET_STATUS\"\r\nconst DELETE_POST = \"profile/DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"profile/SAVE_PHOTO_SUCCESS\"\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Опыт - это то, что позволяет человеку, сделав ошибку, сказать: 'Я так и знал!'\", likeCount: 99 },\r\n    { id: 2, message: \"В мире еще много граблей, на которые не ступала нога человека!\", likeCount: 21 },\r\n    { id: 3, message: \"Начиная новое дело, надо быть готовым даже к тому, что у тебя все получится\", likeCount: 8 },\r\n    { id: 4, message: \"Что недопустимо в принципе, часто необходимо на практике.\", likeCount: 6 },\r\n  ] as Array<PostType>,\r\n  profile: null as ProfileType | null,\r\n  status: \"\" as string,\r\n  newPostText: \"\" as string | null\r\n};\r\n\r\nexport type PostInitialStateType = typeof initialState\r\n\r\nconst profileReducer = (state = initialState, action: any):PostInitialStateType => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: state.posts.length ? state.posts[state.posts.length-1].id + 1 : 0,\r\n        message: action.newPostText,\r\n        likeCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      };\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile,\r\n      };\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    }\r\n    case DELETE_POST: {\r\n      console.log(\"delete post\")\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id !== action.postId),\r\n      };\r\n    }\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        profile: {...state.profile, photos: action.photos} as ProfileType\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\ntype AddPostActionType = {\r\n  type: typeof ADD_POST\r\n  newPostText: string | null\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText: string | null):AddPostActionType => ({ type: ADD_POST, newPostText });\r\n\r\ntype SetUserProfileActionType = {\r\n  type: typeof SET_USER_PROFILE\r\n  profile: ProfileType\r\n}\r\n\r\nexport const setUserProfileAC = (profile: ProfileType):SetUserProfileActionType => ({\r\n  type: SET_USER_PROFILE,\r\n  profile\r\n})\r\n\r\ntype SetStatusActionType = {\r\n  type: typeof SET_STATUS\r\n  status: string | null\r\n}\r\n\r\nexport const setStatusAC = (status: string): SetStatusActionType => ({\r\n  type: SET_STATUS,\r\n  status\r\n})\r\n\r\ntype DeletePostActionType = {\r\n  type: typeof DELETE_POST\r\n  postId: number\r\n}\r\n\r\nexport const deletePostAC = (postId: number):DeletePostActionType => ({\r\n  type: DELETE_POST,\r\n  postId\r\n})\r\n\r\ntype SavePhotoActionType = {\r\n  type: typeof SAVE_PHOTO_SUCCESS\r\n  photos: PhotosType\r\n}\r\n\r\nexport const savePhotoSuccessAC = (photos: PhotosType):SavePhotoActionType => ({\r\n  type: SAVE_PHOTO_SUCCESS,\r\n  photos\r\n})\r\n\r\n//получаем профиль юзера и устанавливаем в стейт\r\nexport const getProfileThunkCreator = (userId: number) => async (dispatch: any) => {\r\n  const data = await profileAPI.getProfile(userId)\r\n  dispatch(setUserProfileAC(data));   \r\n}\r\n\r\n//получаем статус юзера и устанавливаем в стейт\r\nexport const getStatusThunkCreator = (userId: number) => async (dispatch: any) => {\r\n  const data = await profileAPI.getStatus(userId)\r\n  dispatch(setStatusAC(data));\r\n}\r\n\r\n//меняем статус юзера и устанавливаем в стейт\r\nexport const updateStatusThunkCreator = (status: string) => async (dispatch: any) => {\r\n  try {\r\n    const data = await profileAPI.updateStatus(status)\r\n    if (data.resultCode === 0) {\r\n      dispatch(setStatusAC(status));\r\n    }  \r\n  }\r\n  catch (error) { \r\n    // alert(error)\r\n    console.error(error)\r\n  }\r\n  \r\n}\r\n\r\n//загружаем фото профиля\r\nexport const savePhotoThunkCreator = (photo: any) => async (dispatch: any) => {\r\n  const data = await profileAPI.savePhoto(photo)\r\n  if (data.resultCode === 0) {\r\n    dispatch(savePhotoSuccessAC(data.data.photos));\r\n  }  \r\n}\r\n\r\n//изменяем данные профиля\r\nexport const saveProfileThunkCreator = (profile: ProfileType) => async (dispatch: any, getState: Function) => {\r\n  const userId = getState().auth.userId\r\n  const data = await profileAPI.saveProfile(profile)\r\n  if (data.resultCode === 0) {\r\n    dispatch(getProfileThunkCreator(userId));\r\n  }  else {\r\n    dispatch(stopSubmit(\"editContacts\", {_error: data.messages[0]})) //останавливаем подтверждение формы и получаем общую ошибку\r\n    return Promise.reject(data.messages[0])\r\n  }\r\n}\r\n\r\nexport default profileReducer;\r\n","import { UsersType } from './../types/types';\r\nimport { usersAPI } from \"../API/api\";\r\n\r\nconst FOLLOW = \"users/FOLLOW\";\r\nconst UNFOLLOW = \"users/UNFOLLOW\";\r\nconst SET_USERS = \"users/SET_USERS\"\r\nconst SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\"\r\nconst SET_TOTAL_USERS_COUNT = \"users/SET_TOTAL_USERS_COUNT\"\r\nconst TOGGLE_IS_FETCHING = \"users/TOGGLE_IS_FETCHING\"\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"users/TOGGLE_IS_FOLLOWING_PROGRESS\"\r\n\r\n\r\nlet initialState = {\r\n  users: [] as Array<UsersType>,\r\n  pageSize: 20,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [] as Array<number>\r\n};\r\n\r\nexport type UsersInitialStateType = typeof initialState\r\n\r\nconst usersReducer = (state = initialState, action: any): UsersInitialStateType => {\r\n  switch (action.type) {\r\n    case FOLLOW: {\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: true };\r\n          }\r\n          return user;\r\n        }),\r\n      };\r\n    }\r\n    case UNFOLLOW: {\r\n      return {\r\n        ...state,\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return { ...user, followed: false };\r\n          }\r\n          return user;\r\n        }),\r\n      };\r\n    }\r\n    case SET_USERS: {\r\n        return {\r\n          ...state,\r\n          users: action.users\r\n        };\r\n      }\r\n    case SET_CURRENT_PAGE: {\r\n        return {\r\n          ...state,\r\n          currentPage: action.currentPage\r\n        };\r\n      }\r\n      case SET_TOTAL_USERS_COUNT: {\r\n        return {\r\n          ...state,\r\n          totalUsersCount: action.totalUsersCount\r\n        };\r\n      }\r\n      case TOGGLE_IS_FETCHING: {\r\n        return {\r\n          ...state,\r\n          isFetching: action.isFetching\r\n        };\r\n      }\r\n      case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n        return {\r\n          ...state,\r\n          followingInProgress: action.isFetching \r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n        };\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\ntype FollowActionType = {\r\n  type: typeof FOLLOW\r\n  userId: number\r\n}\r\n\r\nexport const followAC = (userId: number):FollowActionType => ({ type: FOLLOW, userId});\r\n\r\ntype UnfollowActionType = {\r\n  type: typeof UNFOLLOW\r\n  userId: number\r\n}\r\n\r\nexport const unfollowAC = (userId: number):UnfollowActionType => ({ type: UNFOLLOW, userId});\r\n\r\ntype SetUsersActionType = {\r\n  type: typeof SET_USERS\r\n  users: Array<UsersType>\r\n}\r\n\r\nexport const setUsersAC = (users: Array<UsersType>):SetUsersActionType => ({ type: SET_USERS, users });\r\n\r\ntype SetCurrentPageActionType = {\r\n  type: typeof SET_CURRENT_PAGE\r\n  currentPage: number\r\n}\r\n\r\nexport const setCurrentPageAC = (currentPage: number):SetCurrentPageActionType => ({ type: SET_CURRENT_PAGE, currentPage });\r\n\r\ntype SetTotalUsersCountActionType = {\r\n  type: typeof SET_TOTAL_USERS_COUNT\r\n  totalUsersCount: number\r\n}\r\n\r\nexport const setTotalUsersCountAC = (totalUsersCount: number):SetTotalUsersCountActionType => ({ type: SET_TOTAL_USERS_COUNT, totalUsersCount });\r\n\r\ntype SetIsFetchingActionType = {\r\n  type: typeof TOGGLE_IS_FETCHING\r\n  isFetching: boolean\r\n}\r\n\r\nexport const setIsFetchingAC = (isFetching: boolean):SetIsFetchingActionType => ({ type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\ntype SetFollowingInProgressActionType = {\r\n  type: typeof TOGGLE_IS_FOLLOWING_PROGRESS\r\n  isFetching: boolean\r\n  userId: number\r\n}\r\n\r\nexport const setFollowingInProgressAC = (isFetching: boolean, userId: number):SetFollowingInProgressActionType => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\r\n\r\n//загрузка страницы юзеров нужного размера\r\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number) => async (dispatch: any) => {\r\n  dispatch(setIsFetchingAC(true)); //загрузка началась, показывается прелодер\r\n  const data = await usersAPI.getUsers(currentPage, pageSize)\r\n  dispatch(setIsFetchingAC(false));//загрузка кончилась, прелодер исчезает\r\n  dispatch(setUsersAC(data.items));\r\n  dispatch(setTotalUsersCountAC(data.totalCount));\r\n}\r\n\r\n//отписка от юзера \r\nexport const unfollowThunkCreator = (userId: number) => async (dispatch: any) => {\r\n  dispatch(setFollowingInProgressAC(true, userId)) //начинается процесс отписки и кнопка блокируется\r\n  const data = await usersAPI.unfollowRequest(userId)\r\n  if (data.resultCode === 0) {\r\n    dispatch(unfollowAC(userId));\r\n  }\r\n  dispatch(setFollowingInProgressAC(false, userId)); //заканчивается процесс отписки и кнопка разблокируется\r\n}\r\n\r\n//подписка на юзера \r\nexport const followThunkCreator = (userId: number) => async (dispatch:any) => {\r\n  dispatch(setFollowingInProgressAC(true, userId))\r\n  const data = await usersAPI.followRequest(userId)\r\n  if (data.resultCode === 0) {\r\n    dispatch(followAC(userId));\r\n  }\r\n  dispatch(setFollowingInProgressAC(false, userId));  \r\n}\r\n\r\nexport default usersReducer;\r\n","import { InitialStateDialogType } from \"../types/types\";\r\n\r\nconst SEND_MESSAGE = \"messages/SEND_MESSAGE\";\r\nconst SET_ACTIVE_DIALOG = \"messages/SET_ACTIVE_DIALOG\"\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {\r\n      id: 8,\r\n      name: \"Nastya\",\r\n      messages: [\r\n        { id: 1, message: \"Привет!\" },\r\n        { id: 2, message: \"Как дела?\" },\r\n        { id: 3, message: \"Эй!\" },\r\n      ]\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Dimych\",\r\n      messages: [\r\n        { id: 1, message: \"Здарова!\" },\r\n        { id: 2, message: \"Че делаешь?\" },\r\n        { id: 3, message: \"Поможешь мне кое с чем?\" },\r\n        { id: 4, message: \"Чё молчишь?\" },\r\n      ]\r\n    },\r\n    {\r\n      id: 11,\r\n      name: \"Sol\",\r\n        messages: [\r\n          { id: 1, message: \"Хай!\" },\r\n          { id: 2, message: \"Я на связи\" },\r\n          { id: 3, message: \"Ты где?\" },\r\n        ]\r\n    },\r\n    {\r\n      id: 14,\r\n      name: \"Den4ik\",\r\n        messages: [\r\n          { id: 1, message: \"Привет!\" },\r\n          { id: 2, message: \"Я готов\" },\r\n          { id: 3, message: \"А ты?\" },\r\n          { id: 4, message: \"Ответь!\" },\r\n        ]\r\n    },\r\n  ] as Array<InitialStateDialogType>,\r\n  activeDialog: 8 as number | null,\r\n};\r\n\r\ntype MessageinitialStateType = typeof initialState\r\n\r\n//находим индекс активного диалога\r\nconst getIndexOfActiveDialog = (state: MessageinitialStateType) => {\r\nfor (let i = 0; i < state.dialogs.length; i++) {\r\n  if (+state.dialogs[i].id === state.activeDialog) return i\r\n}\r\nreturn -1\r\n}\r\n\r\nconst messagesReducer = (state = initialState, action: any): MessageinitialStateType => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE: {\r\n      let newState = JSON.parse(JSON.stringify(state)) //глубокое копирование стейта\r\n      let index = getIndexOfActiveDialog(newState)\r\n      let newMessage = {\r\n        id: state.dialogs[index].messages.length + 1,\r\n        message: action.newMessageBody,\r\n      };\r\n      newState.dialogs[index].messages.push(newMessage)\r\n      return newState\r\n    }\r\n    case SET_ACTIVE_DIALOG: {\r\n      return {\r\n        ...state,\r\n        activeDialog: action.activeDialogNumber\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\ntype SendMessageType = {\r\n  type: typeof SEND_MESSAGE\r\n  newMessageBody: string\r\n}\r\n\r\n//создаем новое сообщение\r\nexport const sendMessageCreator = (newMessageBody: string): SendMessageType => ({ type: SEND_MESSAGE, newMessageBody});\r\n\r\ntype SetActiveDialogType = {\r\n  type: typeof SET_ACTIVE_DIALOG\r\n  activeDialogNumber: number\r\n}\r\n\r\n//устанавливаем активный диалог\r\nexport const setActiveDialogAC = (activeDialogNumber: number):SetActiveDialogType => ({ type: SET_ACTIVE_DIALOG, activeDialogNumber });\r\n\r\nexport default messagesReducer;\r\n"],"sourceRoot":""}