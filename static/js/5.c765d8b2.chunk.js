(this.webpackJsonpsocialweb=this.webpackJsonpsocialweb||[]).push([[5],{226:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var c=function(e){if(!e)return"error message"},s=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},a=function(e){return function(t){if(t&&t.length<e)return"Max length is ".concat(e," symbols")}}},227:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var c=n(3),s=n(233),a=n(0),r=(n(1),n(228),function(e){e.input;var t=e.meta,n=(e.child,Object(s.a)(e,["input","meta","child"])),c=t.touched&&t.error;return Object(a.jsxs)("div",{className:"formControl"+(c?" error":""),children:[Object(a.jsx)("div",{children:n.children}),c&&Object(a.jsxs)("span",{children:['"',t.error,'"']})]})}),i=function(e){var t=e.input,n=(e.meta,e.child,Object(s.a)(e,["input","meta","child"]));return Object(a.jsx)(r,Object(c.a)(Object(c.a)({},e),{},{children:Object(a.jsx)("textarea",Object(c.a)(Object(c.a)({},t),n))}))},o=function(e){var t=e.input,n=(e.meta,e.child,Object(s.a)(e,["input","meta","child"]));return Object(a.jsx)(r,Object(c.a)(Object(c.a)({},e),{},{children:Object(a.jsx)("input",Object(c.a)(Object(c.a)({},t),n))}))},l=function(e){var t=e.input,n=(e.meta,e.child,Object(s.a)(e,["input","meta","child"]));return Object(a.jsx)(r,Object(c.a)(Object(c.a)({},e),{},{children:Object(a.jsx)("input",Object(c.a)(Object(c.a)({type:"checkbox"},t),n))}))}},228:function(e,t,n){},231:function(e,t,n){"use strict";var c=n(0),s=(n(1),n.p+"static/media/randomAvatar1.debd756e.jpg"),a=n.p+"static/media/randomAvatar2.42e73c64.webp",r=n.p+"static/media/randomAvatar3.425f2b50.jpg",i=n.p+"static/media/randomAvatar4.d9ac67cd.jpg",o=n.p+"static/media/randomAvatar5.c0dacda5.jpg",l=n.p+"static/media/randomAvatar6.9c5275ab.jpg",u=n.p+"static/media/randomAvatar7.fb26aaed.jpg",d=n.p+"static/media/randomAvatar8.7ec704b8.jpg",j=n.p+"static/media/randomAvatar9.775f6832.jpg",b=n.p+"static/media/randomAvatar0.1a9a8fe7.jpg",f=function(e){switch(e){case 1:return s;case 2:return a;case 3:return r;case 4:return i;case 5:return o;case 6:return l;case 7:return u;case 8:return d;case 9:return j;default:return b}};t.a=function(e){var t=e.userId,n=String(t),s=parseInt(n[n.length-1])||Math.ceil(10*Math.random());return Object(c.jsx)("img",{className:"w-100 rounded",src:f(s),alt:"randomAvatar"})}},232:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var c=n(3),s=n(33),a=n(34),r=n(36),i=n(35),o=n(0),l=n(1),u=n.n(l),d=n(19),j=n(7),b=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(r.a)(l,t);var n=Object(i.a)(l);function l(){return Object(s.a)(this,l),n.apply(this,arguments)}return Object(a.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(o.jsx)(e,Object(c.a)({},this.props)):Object(o.jsx)(j.a,{to:"/login"})}}]),l}(u.a.Component);return Object(d.b)(b)(t)}},238:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));var c=function(e){return e.usersPage.users},s=function(e){return e.usersPage.pageSize},a=function(e){return e.usersPage.totalUsersCount},r=function(e){return e.usersPage.currentPage},i=function(e){return e.usersPage.isFetching},o=function(e){return e.usersPage.followingInProgress}},239:function(e,t,n){"use strict";var c=n(0);n(1);t.a=function(e){var t=e.user,n=e.followingInProgress,s=e.unfollow,a=e.follow;return t.followed?Object(c.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:"btn btn-block btn-warning",onClick:function(){s(t.id)},children:"Unfollow"}):Object(c.jsx)("button",{disabled:n.some((function(e){return e===t.id})),className:"btn btn-block btn-success",onClick:function(){a(t.id)},children:"Follow"})}},252:function(e,t,n){},297:function(e,t,n){"use strict";n.r(t);var c=n(3),s=n(33),a=n(34),r=n(36),i=n(35),o=n(0),l=n(1),u=n.n(l),d=n(19),j=n(7),b=n(18),f=n(232),h=n(58),m=n(59),O=n(238),p=n(32),x=n(104),g=n(105),v=n(226),w=n(227),N=Object(v.a)(100),k=Object(g.a)({form:"addPost"})((function(e){return Object(o.jsx)("form",{onSubmit:e.handleSubmit,children:Object(o.jsx)("div",{className:"raw",children:Object(o.jsxs)("div",{className:"col-12 col-md-7",children:[Object(o.jsx)(x.a,{name:"post",component:w.c,className:"form-control",validate:[v.c,N],placeholder:"Post message"}),Object(o.jsx)("div",{className:"mt-1",children:Object(o.jsx)("button",{className:"btn btn-sm btn-warning btn-block",children:Object(o.jsx)("b",{children:"ADD POST"})})})]})})})})),y=n(231),P=(n(252),function(e){var t=e.message,n=e.likeCount,c=void 0===n?0:n,s=e.profile;return t?Object(o.jsx)("div",{className:"mb-2 card border-0 bg-dark",children:Object(o.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(o.jsxs)("div",{className:"list-group list-group-horizontal m-1",children:[Object(o.jsx)("div",{className:"postAvatar list-group-item p-1",children:s.photos.large?Object(o.jsx)("img",{className:"rounded",src:s.photos.large,alt:"avatar"}):Object(o.jsx)(y.a,{userId:s.userId})}),Object(o.jsx)("div",{className:"d-flex justify-content-center align-items-center list-group-item p-0 like",children:Object(o.jsx)("span",{className:"p-2",children:Object(o.jsxs)("b",{children:["\u2665",c]})})})]}),Object(o.jsx)("div",{className:"card overflowHack flex-grow-1 m-1 p-2",children:t})]})}):null}),C=u.a.memo((function(e){return Object(o.jsxs)("div",{className:"mx-3 mb-3 px-3 card bg-secondary",children:[Object(o.jsx)("h3",{className:"p-2",children:"MY POSTS"}),Object(o.jsx)(k,{onSubmit:function(t){e.addPost(t.post)}}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"pb-3",children:e.postsData.map((function(t){return Object(o.jsx)(P,{message:t.message,likeCount:t.likeCount,profile:e.profile},t.id)}))})]})})),A=Object(d.b)((function(e){return{postsData:e.profilePage.posts,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){e(Object(h.a)(t))}}}))(C),I=n(239);var S=n(72);function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],c=!0,s=!1,a=void 0;try{for(var r,i=e[Symbol.iterator]();!(c=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);c=!0);}catch(o){s=!0,a=o}finally{try{c||null==i.return||i.return()}finally{if(s)throw a}}return n}}(e,t)||Object(S.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(e){var t=e.profile,n=e.isOwner,c=e.savePhoto,s=T(Object(l.useState)(!1),2),a=s[0],r=s[1];return Object(o.jsxs)("div",{className:"card bg-light m-2 profileAvatar",children:[Object(o.jsx)("h2",{className:"card-header text-center",children:t.fullName}),t.photos.large?Object(o.jsx)("img",{className:"card-img",src:t.photos.large,alt:"avatar"}):Object(o.jsx)(y.a,{userId:t.userId}),n&&Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){r(!a)},className:"btn btn-warning btn-block btn-sm",children:Object(o.jsx)("b",{children:a?"CANCEL":"CHANGE AVATAR"})}),a&&Object(o.jsx)("input",{className:"btn btn-sm btn-block btn-light",type:"file",onChange:function(e){e.target.files.length&&c(e.target.files[0])}})]})]})},D=function(e){var t=e.contactTitle,n=e.contactValue;return Object(o.jsxs)("p",{className:"card-text",children:[Object(o.jsxs)("b",{children:[t,":"]})," ",Object(o.jsx)("a",{href:n,children:n||"\u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})]})},E=Object(g.a)({form:"editContacts"})((function(e){e.profile;var t=e.setEditModeOff,n=e.isOwner,c=e.toggleContacts,s=e.seeContacts,a=function(e){var t=e.name,n=e.validate,c=e.placeholder;return Object(o.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[Object(o.jsxs)("b",{children:[c,": "]}),Object(o.jsx)("div",{className:"ml-2 flex-grow-1",children:Object(o.jsx)(x.a,{name:t,component:w.b,className:"form-control",validate:n,placeholder:c})})]})};return Object(o.jsxs)("form",{children:[Object(o.jsxs)("div",{className:"card bg-secondary m-2",children:[Object(o.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[Object(o.jsx)("h5",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),n&&Object(o.jsx)("button",{className:"btn btn-sm btn-warning",onClick:t,children:Object(o.jsx)("b",{children:"CANCEL"})})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)(x.a,{name:"aboutMe",component:w.c,className:"form-control",validate:[v.c],placeholder:"About me"}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"card-text mb-2",children:Object(o.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[Object(o.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),Object(o.jsx)(x.a,{name:"lookingForAJob",component:w.a,className:"ml-2"})]})}),Object(o.jsx)(x.a,{name:"lookingForAJobDescription",component:w.c,className:"form-control",validate:[v.c],placeholder:"Looking for a job description"})]})]}),Object(o.jsxs)("div",{className:"card bg-secondary m-2",children:[Object(o.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[Object(o.jsx)("h5",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(o.jsx)("button",{className:"btn btn-sm btn-warning",onClick:c,children:s?Object(o.jsx)("b",{children:"\u25b2"}):Object(o.jsx)("b",{children:"\u25bc"})})]}),s&&Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)(a,{name:"facebook",validate:[v.c],placeholder:"Facebook"}),Object(o.jsx)(a,{name:"website",validate:[v.c],placeholder:"Website"}),Object(o.jsx)(a,{name:"vk",validate:[v.c],placeholder:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"}),Object(o.jsx)(a,{name:"twitter",validate:[v.c],placeholder:"Twitter"}),Object(o.jsx)(a,{name:"instagram",validate:[v.c],placeholder:"Instagram"}),Object(o.jsx)(a,{name:"github",validate:[v.c],placeholder:"GitHub"}),Object(o.jsx)(a,{name:"youtube",validate:[v.c],placeholder:"YouTube"}),Object(o.jsx)(a,{name:"mainLink",validate:[v.c],placeholder:"mainLink"})]}),n&&Object(o.jsx)("button",{className:"btn btn-sm btn-warning",onClick:function(){},children:Object(o.jsx)("b",{children:"SAVE"})})]})]})})),V=function(e){var t=e.profile,n=e.setEditModeOn,c=e.isOwner,s=e.toggleContacts,a=e.seeContacts;return Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"card bg-light m-2",children:[Object(o.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[Object(o.jsx)("h5",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),c&&Object(o.jsx)("button",{className:"btn btn-sm btn-warning",onClick:n,children:Object(o.jsx)("b",{children:"EDIT"})})]}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("p",{className:"card-text",children:['"',t.aboutMe,'"']}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"card-text",children:[Object(o.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})," ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),t.lookingForAJobDescription&&Object(o.jsx)("div",{children:t.lookingForAJobDescription})]})]}),Object(o.jsxs)("div",{className:"card bg-light m-2",children:[Object(o.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[Object(o.jsx)("h5",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object(o.jsx)("button",{className:"btn btn-sm btn-warning",onClick:s,children:a?Object(o.jsx)("b",{children:"\u25b2"}):Object(o.jsx)("b",{children:"\u25bc"})})]}),a&&Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)(D,{contactTitle:"Facebook",contactValue:t.contacts.facebook}),Object(o.jsx)(D,{contactTitle:"\u0421\u0430\u0439\u0442",contactValue:t.contacts.website}),Object(o.jsx)(D,{contactTitle:"\u0412\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435",contactValue:t.contacts.vk}),Object(o.jsx)(D,{contactTitle:"Twitter",contactValue:t.contacts.twitter}),Object(o.jsx)(D,{contactTitle:"Instagram",contactValue:t.contacts.instagram}),Object(o.jsx)(D,{contactTitle:"GitHub",contactValue:t.contacts.github}),Object(o.jsx)(D,{contactTitle:"YouTube",contactValue:t.contacts.youtube}),Object(o.jsx)(D,{contactTitle:"mainLink",contactValue:t.contacts.mainLink})]})]})]})},F=function(e){var t=e.profile,n=e.isOwner,c=T(Object(l.useState)(!0),2),s=c[0],a=c[1],r=function(){a(!s)},i=T(Object(l.useState)(!1),2),u=i[0],d=i[1];return Object(o.jsx)("div",{children:u?Object(o.jsx)(E,{profile:t,setEditModeOff:function(){d(!1)},isOwner:n,toggleContacts:r,seeContacts:s}):Object(o.jsx)(V,{profile:t,setEditModeOn:function(){d(!0)},isOwner:n,toggleContacts:r,seeContacts:s})})},U=function(e){var t=T(Object(l.useState)(!1),2),n=t[0],c=t[1],s=T(Object(l.useState)(e.status),2),a=s[0],r=s[1];Object(l.useEffect)((function(){r(e.status)}),[e.status]);return Object(o.jsxs)("div",{className:"card m-2 p-2 text-center bg-light",children:[!n&&Object(o.jsx)("div",{className:"pb-2",children:Object(o.jsxs)("span",{onDoubleClick:e.isOwner&&function(){c(!0)},children:['"',e.status||"-----",'"']})}),n&&Object(o.jsx)("div",{children:Object(o.jsx)("input",{onChange:function(e){r(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateStatus(a)},value:a})})]})},J=function(e){var t=e.users.filter((function(t){return t.id===e.profile.userId})),n=e.authUserId===e.profile.userId;return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"card bg-dark m-3",children:Object(o.jsxs)("div",{className:"d-flex flex-wrap",children:[Object(o.jsxs)("div",{className:"",children:[Object(o.jsx)(M,{profile:e.profile,isOwner:n,savePhoto:e.savePhoto}),Object(o.jsx)(U,{profile:e.profile,isOwner:n,status:e.status,updateStatus:e.updateStatus}),t[0]?Object(o.jsx)("div",{className:"mx-2 mb-2",children:Object(o.jsx)(I.a,{user:t[0],followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow})}):""]}),Object(o.jsx)("div",{className:"flex-grow-1",children:Object(o.jsx)(F,{profile:e.profile,isOwner:n})})]})})})},L=function(e){return e.profile?Object(o.jsxs)("div",{children:[Object(o.jsx)(J,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow,users:e.users,authUserId:e.authUserId,savePhoto:e.savePhoto}),Object(o.jsx)(A,{store:e.store})]}):Object(o.jsx)(p.a,{})},H=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).refreshProfile=function(){var t=e.props.match.params.userId;t||(t=e.props.authUserId)||e.props.history.push("/login"),e.props.getProfileThunkCreator(t),e.props.getStatusThunkCreator(t)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId===e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)(L,Object(c.a)(Object(c.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusThunkCreator,followingInProgress:this.props.followingInProgress,unfollow:this.props.unfollow,follow:this.props.follow,users:this.props.users,authUserId:this.props.authUserId,savePhoto:this.props.savePhoto}))})}}]),n}(u.a.Component),G={getProfileThunkCreator:h.c,getStatusThunkCreator:h.d,updateStatusThunkCreator:h.f,unfollow:m.f,follow:m.b,savePhoto:h.e};t.default=Object(b.d)(Object(d.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth,followingInProgress:Object(O.b)(e),users:Object(O.f)(e)}}),G),j.f,f.a)(H)}}]);
//# sourceMappingURL=5.c765d8b2.chunk.js.map