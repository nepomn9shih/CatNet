{"version":3,"sources":["images/randomAvatar1.jpg","images/randomAvatar2.jpg","images/randomAvatar3.jpg","images/randomAvatar4.jpg","images/randomAvatar5.jpg","images/randomAvatar6.jpg","images/randomAvatar7.jpg","images/randomAvatar8.jpg","images/randomAvatar9.jpg","images/randomAvatar0.jpg","components/RandomAvatar/RandomAvatar.js","redux/usersSelectors.js","components/Users/FollowUnfollowButton.tsx","components/Users/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx"],"names":["getRandomAvatar","counter","randomAvatar1","randomAvatar2","randomAvatar3","randomAvatar4","randomAvatar5","randomAvatar6","randomAvatar7","randomAvatar8","randomAvatar9","randomAvatar0","RandomAvatar","userId","temp","String","random","parseInt","length","className","src","alt","getUsers","state","usersPage","users","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","FollowUnfollowButton","user","unfollow","follow","followed","disabled","some","id","onClick","Paginator","onPageChanged","pagesCount","Math","ceil","pages","i","push","role","type","map","page","User","to","photos","small","name","status","Users","Preloader","mapDispatchToProps","followThunkCreator","unfollowThunkCreator","setCurrentPageAC","setFollowingInProgressAC","getUsersThunkCreator","connect","props","useEffect","pageNumber"],"mappings":"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","file":"static/js/6.1620e569.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/randomAvatar1.debd756e.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar2.51b603ca.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar3.425f2b50.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar4.d9ac67cd.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar5.c0dacda5.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar6.9c5275ab.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar7.fb26aaed.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar8.7ec704b8.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar9.775f6832.jpg\";","export default __webpack_public_path__ + \"static/media/randomAvatar0.1a9a8fe7.jpg\";","import React from \"react\";\r\nimport randomAvatar1 from \"../../images/randomAvatar1.jpg\"\r\nimport randomAvatar2 from \"../../images/randomAvatar2.jpg\"\r\nimport randomAvatar3 from \"../../images/randomAvatar3.jpg\"\r\nimport randomAvatar4 from \"../../images/randomAvatar4.jpg\"\r\nimport randomAvatar5 from \"../../images/randomAvatar5.jpg\"\r\nimport randomAvatar6 from \"../../images/randomAvatar6.jpg\"\r\nimport randomAvatar7 from \"../../images/randomAvatar7.jpg\"\r\nimport randomAvatar8 from \"../../images/randomAvatar8.jpg\"\r\nimport randomAvatar9 from \"../../images/randomAvatar9.jpg\"\r\nimport randomAvatar0 from \"../../images/randomAvatar0.jpg\"\r\n\r\nconst RandomAvatar = ({userId}) => {\r\n  let temp = String(userId)\r\n  let current = parseInt(temp[temp.length-1])\r\n  \r\n  // let random = current || Math.ceil(Math.random()*10)\r\n  let random = current || \"default\"\r\n    return (\r\n        <img className=\"w-100 rounded\" src={getRandomAvatar(random)} alt=\"randomAvatar\" />\r\n    )\r\n}\r\n\r\nexport const getRandomAvatar = (counter) => {\r\n    switch (counter) {\r\n      case 1:\r\n        return randomAvatar1;\r\n      case 2:\r\n        return randomAvatar2;\r\n      case 3:\r\n        return randomAvatar3;\r\n      case 4:\r\n        return randomAvatar4;\r\n      case 5:\r\n        return randomAvatar5;\r\n      case 6:\r\n        return randomAvatar6;\r\n      case 7:\r\n        return randomAvatar7;\r\n      case 8:\r\n        return randomAvatar8;\r\n      case 9:\r\n        return randomAvatar9;\r\n      default:\r\n        return randomAvatar0;\r\n    }\r\n  };\r\n\r\n  export default RandomAvatar","\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport { UsersType } from \"../../types/types\";\r\n\r\ntype FollowUnfollowButtonPropsType = {\r\n  user: UsersType\r\n  followingInProgress: any\r\n  unfollow: (id: number) => void\r\n  follow: (id: number) => void\r\n}\r\n\r\nconst FollowUnfollowButton: React.FC<FollowUnfollowButtonPropsType> = ({user, followingInProgress, unfollow, follow }) => {\r\n  \r\n  return user.followed ? (\r\n    <button\r\n      disabled={followingInProgress.some((id: number) => id === user.id)}\r\n      className=\"btn btn-block btn-warning\"\r\n      onClick={() => {\r\n        unfollow(user.id)\r\n      }}\r\n    >\r\n      Unfollow\r\n    </button>\r\n  ) : (\r\n    <button\r\n     disabled={followingInProgress.some((id: number) => id === user.id)}\r\n      className=\"btn btn-block btn-success\"\r\n      onClick={() => {\r\n        follow(user.id)\r\n      }}\r\n    >\r\n      Follow\r\n    </button>\r\n  )}\r\nexport default FollowUnfollowButton;\r\n","import React from \"react\";\r\n\r\ntype PaginatorPropsType = {\r\n  totalUsersCount: number\r\n  pageSize: number\r\n  currentPage: number\r\n  onPageChanged: (page: number) => void\r\n}\r\n\r\nconst Paginator: React.FC<PaginatorPropsType> = ({totalUsersCount, pageSize, currentPage, onPageChanged}) => {\r\n  let pagesCount: number = Math.ceil(totalUsersCount / pageSize);\r\n  let pages: Array<number> = [];\r\n  for (let i:number = currentPage - 2; i <= currentPage + 2; i++) {\r\n    if (i > 0 && i <= pagesCount) pages.push(i);\r\n  }\r\n\r\n  return (\r\n    <div className=\"btn-group\" role=\"group\">\r\n      <button\r\n        type=\"button\"\r\n        disabled={1 === currentPage}\r\n        onClick={() => {\r\n          onPageChanged(1);\r\n        }}\r\n        className={\r\n          1 === currentPage ? \"btn btn-warning btn-sm\" : \"btn btn-light btn-sm\"\r\n        }\r\n      >\r\n        &lt;&lt;\r\n      </button>\r\n      {pages.map((page:number) => {\r\n        return (\r\n          <button\r\n            type=\"button\"\r\n            key={page}\r\n            onClick={() => {\r\n              onPageChanged(page);\r\n            }}\r\n            className={\r\n              page === currentPage ? \"btn btn-warning btn-sm\" : \"btn btn-light btn-sm\"\r\n            }\r\n          >\r\n            {page}\r\n          </button>\r\n        );\r\n      })}\r\n      <button\r\n        type=\"button\"\r\n        disabled={pagesCount === currentPage}\r\n        onClick={() => {\r\n          onPageChanged(pagesCount);\r\n        }}\r\n        className={\r\n          pagesCount === currentPage ? \"btn btn-warning btn-sm\" : \"btn btn-light btn-sm\"\r\n        }\r\n      >\r\n        &gt;&gt;\r\n      </button>\r\n    </div>\r\n  );\r\n};    \r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { UsersType } from \"../../types/types\";\r\nimport RandomAvatar from \"../RandomAvatar/RandomAvatar\";\r\nimport FollowUnfollowButton from \"./FollowUnfollowButton\";\r\nimport \"./Users.css\";\r\n\r\ntype UserPropsType = {\r\n  user: UsersType\r\n  followingInProgress: any\r\n  unfollow: (id: number) => void\r\n  follow: (id: number) => void\r\n}\r\n\r\nconst User: React.FC<UserPropsType> = ({user, followingInProgress, follow, unfollow}) => {\r\n  \r\n  return (\r\n    <div className=\"mb-3 p-2 card text-center userCard\" key={user.id}>\r\n      <div className=\"\">\r\n        <div className=\"card bg-dark userAvatar\">\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            {user.photos.small \r\n            ? <img\r\n              className=\"card-img\"\r\n              src={user.photos.small}\r\n              alt=\"avatar\"\r\n            />\r\n            : <RandomAvatar userId={user.id}/>}\r\n          </NavLink>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <span className=\"badge text-white p-3\">ID: {user.id}</span>\r\n            <div className=\"m-1\">\r\n              <FollowUnfollowButton\r\n                user={user}\r\n                followingInProgress={followingInProgress}\r\n                unfollow={unfollow}\r\n                follow={follow}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <h5 className=\"card-header\">{user.name}</h5>\r\n        <div className=\"p-1\">\"{user.status || \"Chilling\"}\"</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport { UsersType } from \"../../types/types\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport Paginator from \"./Paginator\";\r\nimport User from \"./User\";\r\nimport \"./Users.css\";\r\n\r\ntype UsersPropsTypes = {\r\n  totalUsersCount: number\r\n  pageSize: number\r\n  currentPage: number\r\n  onPageChanged: (page: number) => void\r\n  followingInProgress: boolean\r\n  follow: (id: number) => void\r\n  unfollow: (id: number) => void\r\n  users: Array<UsersType>\r\n  isFetching: boolean\r\n}\r\n\r\nconst Users:React.FC<UsersPropsTypes> = ({\r\n  totalUsersCount, pageSize, currentPage, \r\n  onPageChanged, followingInProgress, \r\n  follow, unfollow, users, isFetching\r\n}) => {\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mx-4 my-2 text-center d-flex justify-content-center align-items-center flex-wrap\">\r\n        <Paginator \r\n          totalUsersCount={totalUsersCount} \r\n          pageSize={pageSize} \r\n          currentPage={currentPage} \r\n          onPageChanged={onPageChanged}\r\n        />\r\n        <div className=\"card bg-dark text-white mx-4 mt-1 p-1\">Users: {totalUsersCount}</div>\r\n      </div>\r\n      {isFetching ? <Preloader /> : null}\r\n      <div className=\"d-flex flex-wrap justify-content-around p-2\">\r\n        {users.map((user) => {\r\n          return (\r\n            <User \r\n              key={user.id}\r\n              user={user} \r\n              followingInProgress={followingInProgress} \r\n              follow={follow} \r\n              unfollow={unfollow}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setCurrentPageAC,\r\n  setFollowingInProgressAC,\r\n  getUsersThunkCreator,\r\n  followThunkCreator,\r\n  unfollowThunkCreator\r\n} from \"../../redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport { \r\n  getPageSize, \r\n  getUsers, \r\n  getTotalUsersCount, \r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFollowingInProgress\r\n } from \"../../redux/usersSelectors\";\r\nimport { UsersType } from \"../../types/types\";\r\nimport { AppStateType } from \"../../redux/reduxStore\";\r\n\r\ntype UsersContainerPropsType = {\r\n  currentPage: number\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  users: Array<UsersType>\r\n  followingInProgress: boolean\r\n  isFetching: boolean\r\n  getUsers: (currentPage: number, pageSize: number) => void\r\n  setCurrentPageAC: (pageNumber: number) => void\r\n  followThunkCreator: () => void\r\n  unfollowThunkCreator: () => void\r\n}\r\n\r\nconst UsersContainer: React.FC<UsersContainerPropsType> = (props) => {\r\n  useEffect(() => props.getUsers(props.currentPage, props.pageSize), [])\r\n \r\n  const onPageChanged = (pageNumber: number) => {\r\n    props.setCurrentPageAC(pageNumber);\r\n    props.getUsers(pageNumber, props.pageSize)\r\n  };\r\n\r\n    return (\r\n      <Users\r\n        totalUsersCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n        currentPage={props.currentPage}\r\n        onPageChanged={onPageChanged}\r\n        users={props.users}\r\n        follow={props.followThunkCreator}\r\n        unfollow={props.unfollowThunkCreator}\r\n        followingInProgress={props.followingInProgress}\r\n        isFetching={props.isFetching}\r\n      />\r\n    );\r\n  }\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     totalUsersCount: state.usersPage.totalUsersCount,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     isFetching: state.usersPage.isFetching,\r\n//     followingInProgress: state.usersPage.followingInProgress,\r\n//   };\r\n// };\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n      users: getUsers(state),\r\n      pageSize: getPageSize(state),\r\n      totalUsersCount: getTotalUsersCount(state),\r\n      currentPage: getCurrentPage(state),\r\n      isFetching: getIsFetching(state),\r\n      followingInProgress: getFollowingInProgress(state),\r\n    };\r\n  };\r\n\r\nconst mapDispatchToProps = {\r\n  followThunkCreator,\r\n  unfollowThunkCreator,\r\n  setCurrentPageAC,\r\n  setFollowingInProgressAC,\r\n  getUsers: getUsersThunkCreator\r\n};\r\n\r\n// @ts-ignore\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer)\r\n"],"sourceRoot":""}